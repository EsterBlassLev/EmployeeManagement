2024-12-20 00:02:12.427 +02:00 [DBG] Hosting starting
2024-12-20 00:02:12.663 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 00:02:12.694 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 00:02:12.758 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 00:02:12.793 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 00:02:12.799 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 00:02:12.804 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 00:02:12.806 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 00:02:12.822 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 00:02:12.826 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 00:02:12.830 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 00:02:12.831 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 00:02:13.460 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 00:02:13.760 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 00:02:13.779 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 00:02:13.779 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 00:02:13.779 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 00:02:13.780 +02:00 [INF] Hosting environment: Development
2024-12-20 00:02:13.780 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 00:02:13.780 +02:00 [DBG] Hosting started
2024-12-20 00:02:13.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 00:02:14.057 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 00:02:14.521 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 00:02:14.978 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 00:02:15.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1030.4805ms
2024-12-20 00:02:16.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 00:02:16.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 13.0870ms
2024-12-20 00:02:16.440 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 00:02:16.524 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.0758ms
2024-12-20 00:02:16.936 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 00:02:17.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 337.8902ms
2024-12-20 00:02:17.275 +02:00 [DBG] Connection ID "18014398511092596741" disconnecting.
2024-12-20 00:03:34.273 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 153
2024-12-20 00:03:34.298 +02:00 [DBG] POST requests are not supported
2024-12-20 00:03:34.402 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 00:03:34.413 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 00:03:34.415 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 00:03:34.420 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 00:03:34.421 +02:00 [INF] CORS policy execution successful.
2024-12-20 00:03:34.900 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 00:03:34.906 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 00:03:34.990 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 00:03:34.994 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 00:03:34.995 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 00:03:34.996 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 00:03:34.997 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 00:03:34.997 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 00:03:35.003 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 00:03:35.406 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 00:03:35.459 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 00:03:35.474 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 00:03:35.479 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 00:03:35.483 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 00:03:35.551 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 00:03:35.554 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 00:03:35.555 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 00:03:35.555 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 00:03:35.623 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 00:04:13.683 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 00:04:14.170 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 00:04:14.595 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 00:04:14.693 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 00:04:14.701 +02:00 [DBG] Creating DbConnection.
2024-12-20 00:04:14.725 +02:00 [DBG] Created DbConnection. (18ms).
2024-12-20 00:04:14.739 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2024-12-20 00:04:14.748 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (59ms).
2024-12-20 00:04:14.754 +02:00 [DBG] Opening connection to database 'main' on server ''.
2024-12-20 00:04:14.789 +02:00 [DBG] Opened connection to database 'main' on server ''.
2024-12-20 00:04:14.816 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 00:04:14.861 +02:00 [ERR] Failed executing DbCommand (48ms) [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 00:04:14.875 +02:00 [DBG] Closing connection to database 'main' on server ''.
2024-12-20 00:04:14.887 +02:00 [DBG] Closed connection to database 'main' on server '' (10ms).
2024-12-20 00:04:14.919 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EmployeeManager.Infrastructure.Data.ApplicationDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Managers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Managers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-12-20 01:03:04.447 +02:00 [DBG] Hosting starting
2024-12-20 01:03:04.718 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:03:04.781 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:03:04.893 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:03:04.931 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:03:04.939 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:03:04.944 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:03:04.958 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:03:04.971 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:03:04.975 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:03:04.980 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:03:04.983 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:03:05.640 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:03:08.589 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:03:08.649 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:03:08.674 +02:00 [DBG] Created DbConnection. (20ms).
2024-12-20 01:03:08.680 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:03:08.721 +02:00 [DBG] An error occurred using the connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:03:08.728 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:03:08.747 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:03:08.749 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:03:08.753 +02:00 [DBG] Created DbConnection. (2ms).
2024-12-20 01:03:08.754 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:03:08.785 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:03:08.799 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-20 01:03:08.815 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (15ms).
2024-12-20 01:03:08.824 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (28ms).
2024-12-20 01:03:08.841 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2024-12-20 01:03:08.957 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2024-12-20 01:03:08.962 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:03:08.974 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (11ms).
2024-12-20 01:03:09.275 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:03:09.276 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:03:09.280 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-20 01:03:09.309 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-12-20 01:03:09.311 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-20 01:03:09.312 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-12-20 01:03:09.313 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-20 01:03:09.314 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Managers" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Managers" PRIMARY KEY AUTOINCREMENT,
    "Guid" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NULL,
    "FullName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2024-12-20 01:03:09.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Managers" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Managers" PRIMARY KEY AUTOINCREMENT,
    "Guid" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NULL,
    "FullName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2024-12-20 01:03:09.315 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-20 01:03:09.319 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-12-20 01:03:09.320 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-12-20 01:03:09.320 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Employees" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Employees" PRIMARY KEY AUTOINCREMENT,
    "Guid" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "FullName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ManagerId" INTEGER NOT NULL,
    CONSTRAINT "FK_Employees_Managers_ManagerId" FOREIGN KEY ("ManagerId") REFERENCES "Managers" ("Id") ON DELETE CASCADE
);
2024-12-20 01:03:09.321 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Employees" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Employees" PRIMARY KEY AUTOINCREMENT,
    "Guid" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "FullName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ManagerId" INTEGER NOT NULL,
    CONSTRAINT "FK_Employees_Managers_ManagerId" FOREIGN KEY ("ManagerId") REFERENCES "Managers" ("Id") ON DELETE CASCADE
);
2024-12-20 01:03:09.321 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-20 01:03:09.323 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-20 01:03:09.323 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-20 01:03:09.323 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Employees_ManagerId" ON "Employees" ("ManagerId");
2024-12-20 01:03:09.324 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Employees_ManagerId" ON "Employees" ("ManagerId");
2024-12-20 01:03:09.327 +02:00 [DBG] Committing transaction.
2024-12-20 01:03:09.335 +02:00 [DBG] Committed transaction.
2024-12-20 01:03:09.340 +02:00 [DBG] Disposing transaction.
2024-12-20 01:03:09.340 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:03:09.341 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:03:09.345 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:03:09.346 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:03:09.346 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:03:09.763 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:03:10.363 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:03:10.363 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:03:10.363 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:03:10.364 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:03:10.364 +02:00 [INF] Hosting environment: Development
2024-12-20 01:03:10.364 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:03:10.365 +02:00 [DBG] Hosting started
2024-12-20 01:03:10.538 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:03:10.637 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:03:11.159 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:03:11.710 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:03:11.731 +02:00 [DBG] Connection ID "18374686485577203753" disconnecting.
2024-12-20 01:03:11.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1202.4293ms
2024-12-20 01:03:11.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:03:11.965 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:03:11.989 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 22.9304ms
2024-12-20 01:03:12.356 +02:00 [DBG] Connection ID "17798225737568747521" disconnecting.
2024-12-20 01:03:12.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 453.4462ms
2024-12-20 01:03:12.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:03:12.975 +02:00 [DBG] Connection ID "18230571293206380571" disconnecting.
2024-12-20 01:03:12.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 517.5077ms
2024-12-20 01:03:42.050 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 134
2024-12-20 01:03:42.059 +02:00 [DBG] POST requests are not supported
2024-12-20 01:03:42.181 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:03:42.185 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:03:42.186 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:03:42.217 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:03:42.217 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:03:42.626 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:03:42.635 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:03:42.709 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:03:42.715 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:03:42.716 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:03:42.717 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:03:42.717 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:03:42.718 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:03:42.722 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:03:42.733 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:03:42.751 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:03:42.758 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:03:42.765 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:03:42.824 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:03:42.829 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:03:42.830 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:03:42.831 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:03:42.894 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:03:58.103 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:03:58.297 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 01:03:59.117 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 01:03:59.238 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:03:59.238 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:03:59.239 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:03:59.239 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:03:59.244 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-12-20 01:03:59.249 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:03:59.254 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:03:59.264 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:03:59.283 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:03:59.296 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:03:59.299 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 12ms reading results.
2024-12-20 01:03:59.348 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:03:59.350 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 01:04:35.395 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 01:04:35.397 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 01:04:35.398 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 01:04:35.398 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 01:04:35.402 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 01:04:35.403 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-12-20 01:04:35.416 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 52692.9649ms
2024-12-20 01:04:35.418 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:04:38.912 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:04:38.919 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:04:38.920 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:04:38.921 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 134 - 400 - text/plain;+charset=utf-8 56871.9003ms
2024-12-20 01:05:17.454 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 142
2024-12-20 01:05:17.455 +02:00 [DBG] POST requests are not supported
2024-12-20 01:05:17.488 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:05:17.488 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:05:17.489 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:05:17.490 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:05:17.490 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:05:17.495 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:05:17.495 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:05:17.496 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:05:17.499 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:05:17.499 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:05:17.499 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:05:17.499 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:05:17.499 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:05:17.500 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:05:17.501 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:05:17.502 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:05:17.503 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:05:17.503 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:05:17.505 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:05:17.505 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:05:17.505 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:05:17.505 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:05:17.537 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:05:29.936 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:05:29.984 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:05:29.984 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:05:29.984 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:05:29.984 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:05:29.984 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:05:29.985 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:05:29.985 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:05:29.985 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:05:29.986 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:05:29.987 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:05:29.987 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 01:05:29.988 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:05:29.988 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:05:34.296 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 01:05:34.300 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 01:05:36.264 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()'
2024-12-20 01:05:36.277 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 01:05:36.288 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:05:36.289 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-20 01:05:36.290 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-20 01:05:36.290 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:05:36.291 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:05:36.292 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
2024-12-20 01:05:36.294 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
2024-12-20 01:05:36.300 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:05:36.300 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 6ms reading results.
2024-12-20 01:05:36.300 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:05:36.301 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:06:55.169 +02:00 [DBG] Hosting starting
2024-12-20 01:06:55.429 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:06:55.466 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:06:55.665 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:06:55.704 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:06:55.714 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:06:55.728 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:06:55.731 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:06:55.737 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:06:55.745 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:06:55.750 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:06:55.751 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:06:57.401 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:06:59.478 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:06:59.513 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:06:59.529 +02:00 [DBG] Created DbConnection. (14ms).
2024-12-20 01:06:59.536 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:06:59.588 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:06:59.597 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:06:59.603 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:06:59.613 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 01:06:59.614 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:06:59.615 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:06:59.629 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2024-12-20 01:06:59.631 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (18ms).
2024-12-20 01:06:59.632 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:06:59.637 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:06:59.649 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:06:59.699 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:06:59.702 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:06:59.710 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (5ms).
2024-12-20 01:06:59.714 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:06:59.716 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:06:59.716 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:06:59.917 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:07:00.135 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:07:00.135 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:07:00.136 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:07:00.136 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:07:00.137 +02:00 [INF] Hosting environment: Development
2024-12-20 01:07:00.137 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:07:00.137 +02:00 [DBG] Hosting started
2024-12-20 01:07:00.277 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:07:00.334 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:07:00.806 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:07:01.289 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:07:01.330 +02:00 [DBG] Connection ID "18158513699168452627" disconnecting.
2024-12-20 01:07:01.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1026.9016ms
2024-12-20 01:07:02.709 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:07:02.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:07:02.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 22.1330ms
2024-12-20 01:07:03.052 +02:00 [DBG] Connection ID "17942340925644603405" disconnecting.
2024-12-20 01:07:03.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 357.9373ms
2024-12-20 01:07:03.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:07:03.814 +02:00 [DBG] Connection ID "18302628887244308494" disconnecting.
2024-12-20 01:07:03.814 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 515.4156ms
2024-12-20 01:07:36.547 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 108
2024-12-20 01:07:36.555 +02:00 [DBG] POST requests are not supported
2024-12-20 01:07:36.694 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:07:36.701 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:07:36.705 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:07:36.712 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:07:36.713 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:07:37.125 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:07:37.141 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:07:37.352 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:07:37.359 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:07:37.359 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:07:37.360 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:07:37.361 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:07:37.361 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:07:37.392 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:07:37.397 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:07:37.413 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:07:37.424 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:07:37.427 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:07:37.567 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:07:37.568 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:07:37.569 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:07:37.570 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:07:37.630 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:07:47.744 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:07:47.923 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 01:07:49.215 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 01:07:49.453 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:07:49.453 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:07:49.454 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:07:49.454 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:07:49.458 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-20 01:07:49.470 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:07:49.473 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:07:49.483 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:07:49.541 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:07:49.554 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:07:49.557 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 13ms reading results.
2024-12-20 01:07:49.565 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:07:49.566 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (4ms).
2024-12-20 01:08:15.114 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:08:15.472 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:08:16.466 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 01:08:16.507 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 01:08:16.537 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 01:08:16.638 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:08:16.639 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:08:16.648 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:08:16.651 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-20 01:08:16.651 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-20 01:08:16.652 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 19), @p2='?' (Size = 11), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 01:08:16.671 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 19), @p2='?' (Size = 11), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 01:08:16.735 +02:00 [DBG] The foreign key property 'Manager.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 01:08:16.797 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:08:16.799 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 127ms reading results.
2024-12-20 01:08:16.800 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:08:16.800 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:08:16.925 +02:00 [DBG] An entity of type 'Manager' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:08:16.930 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 01:10:39.906 +02:00 [DBG] Hosting starting
2024-12-20 01:10:40.089 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:10:40.140 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:10:40.178 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:10:40.196 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:10:40.200 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:10:40.202 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:10:40.205 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:10:40.209 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:10:40.212 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:10:40.216 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:10:40.218 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:10:40.576 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:10:41.795 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:10:41.841 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:10:41.884 +02:00 [DBG] Created DbConnection. (45ms).
2024-12-20 01:10:41.892 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:10:41.919 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:10:41.925 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:10:41.937 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:10:41.949 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 01:10:41.951 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:10:41.952 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:10:41.966 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (12ms).
2024-12-20 01:10:41.971 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (24ms).
2024-12-20 01:10:41.972 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:10:41.977 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:10:41.990 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:10:42.116 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:10:42.120 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:10:42.124 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (3ms).
2024-12-20 01:10:42.129 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:10:42.132 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:10:42.133 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:10:42.283 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:10:42.556 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:10:42.574 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:10:42.575 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:10:42.575 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:10:42.575 +02:00 [INF] Hosting environment: Development
2024-12-20 01:10:42.576 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:10:42.576 +02:00 [DBG] Hosting started
2024-12-20 01:10:42.667 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:10:42.742 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:10:43.205 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:10:43.519 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:10:43.584 +02:00 [DBG] Connection ID "18230571306091282449" disconnecting.
2024-12-20 01:10:43.778 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:10:43.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1117.5254ms
2024-12-20 01:10:43.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:10:43.802 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 23.0142ms
2024-12-20 01:10:44.007 +02:00 [DBG] Connection ID "18374686494167138318" disconnecting.
2024-12-20 01:10:44.021 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 219.4851ms
2024-12-20 01:10:44.149 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:10:45.016 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 862.2102ms
2024-12-20 01:10:57.317 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 158
2024-12-20 01:10:57.330 +02:00 [DBG] POST requests are not supported
2024-12-20 01:10:57.441 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:10:57.450 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:10:57.452 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:10:57.458 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:10:57.459 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:10:57.741 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:10:57.752 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:10:57.850 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:10:57.853 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:10:57.856 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:10:57.858 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:10:57.858 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:10:57.859 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:10:57.865 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:10:57.869 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:10:57.890 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:10:57.899 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:10:57.902 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:10:57.957 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:10:57.959 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:10:57.962 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:10:57.966 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:10:57.990 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:11:08.017 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:11:08.181 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 01:11:09.284 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 01:11:09.429 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:11:09.429 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:11:09.430 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:11:09.482 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (52ms).
2024-12-20 01:11:09.488 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (58ms).
2024-12-20 01:11:09.505 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:11:09.521 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:11:09.529 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:11:09.564 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:11:09.588 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:11:09.595 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 24ms reading results.
2024-12-20 01:11:09.600 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:11:09.602 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:11:26.141 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:11:26.361 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:11:27.144 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 01:11:27.165 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 01:11:27.194 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 01:11:27.393 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:11:27.394 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:11:27.398 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:11:27.398 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:11:27.399 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 01:11:27.400 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 16), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 01:11:27.402 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 16), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 01:11:27.442 +02:00 [DBG] The foreign key property 'Manager.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 01:11:27.482 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:11:27.484 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 80ms reading results.
2024-12-20 01:11:27.485 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:11:27.486 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:11:27.516 +02:00 [DBG] An entity of type 'Manager' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:11:27.526 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 01:11:46.280 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 01:11:46.286 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 01:11:46.286 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 01:11:46.287 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 01:11:46.290 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 01:11:46.291 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 01:11:46.409 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 48543.7827ms
2024-12-20 01:11:46.410 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:11:51.720 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:11:51.723 +02:00 [DBG] Connection ID "18374686485577203758" disconnecting.
2024-12-20 01:11:51.726 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:11:51.728 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:11:51.729 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 158 - 200 - application/json;+charset=utf-8 54411.9304ms
2024-12-20 01:12:10.960 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 158
2024-12-20 01:12:10.971 +02:00 [DBG] POST requests are not supported
2024-12-20 01:12:13.286 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:12:13.286 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:12:13.287 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:12:13.289 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:12:13.289 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:12:13.293 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:12:13.293 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:12:13.294 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:12:13.294 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:12:13.294 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:12:13.294 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:12:13.294 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:12:13.297 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:12:13.298 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:12:13.301 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:12:13.323 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:12:13.350 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:12:13.350 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:12:13.352 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:12:13.352 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:12:13.353 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:12:13.353 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:12:13.354 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:12:15.782 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:12:15.789 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:12:15.789 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:12:15.789 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:12:15.789 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:12:15.789 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:12:15.789 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:12:15.789 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:12:15.790 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:12:15.791 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:12:15.903 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:12:15.908 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:12:15.908 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 116ms reading results.
2024-12-20 01:12:15.909 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:12:15.909 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:12:15.915 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 01:12:15.915 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 01:12:15.915 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 01:12:15.915 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 01:12:15.916 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 01:12:15.916 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-12-20 01:12:15.922 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 2624.3945ms
2024-12-20 01:12:15.922 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:12:15.922 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:12:15.923 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:12:15.924 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:12:15.925 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 158 - 400 - text/plain;+charset=utf-8 4965.0591ms
2024-12-20 01:12:52.331 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 134
2024-12-20 01:12:52.334 +02:00 [DBG] POST requests are not supported
2024-12-20 01:12:52.334 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 01:12:52.334 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 01:12:52.334 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 01:12:52.338 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:12:52.338 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:12:52.343 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:12:52.343 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 01:12:52.352 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:12:52.352 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:12:52.352 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:12:52.352 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:12:52.353 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:12:52.353 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:12:52.353 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:12:52.360 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:12:52.360 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 01:12:52.360 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 01:12:52.361 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:12:52.362 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 01:12:52.363 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 01:12:52.363 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 01:12:52.363 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 01:12:52.365 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 01:12:52.374 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:12:52.378 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:12:52.378 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:12:52.378 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:12:52.379 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-20 01:12:52.379 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 01:12:52.379 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:12:52.379 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:12:52.380 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:12:52.380 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:12:52.381 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:12:52.382 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:12:52.383 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 2ms reading results.
2024-12-20 01:12:52.383 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:12:52.383 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:12:52.845 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 01:12:52.846 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 01:12:52.846 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 01:12:52.846 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 01:12:52.846 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 01:12:52.846 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 01:12:52.848 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 495.0288ms
2024-12-20 01:12:52.851 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 01:12:52.852 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:12:52.853 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:12:52.853 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:12:52.853 +02:00 [DBG] Connection ID "18374686494167138322" disconnecting.
2024-12-20 01:12:52.853 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 134 - 200 - application/json;+charset=utf-8 522.2135ms
2024-12-20 01:13:18.524 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees - -
2024-12-20 01:13:18.537 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:13:18.537 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees'
2024-12-20 01:13:18.537 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees' is valid for the request path '/api/Employees'
2024-12-20 01:13:18.538 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:13:18.538 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:13:18.556 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 01:13:18.565 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 01:13:18.571 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees - - - 401 - - 47.6151ms
2024-12-20 01:14:30.445 +02:00 [DBG] Hosting starting
2024-12-20 01:14:30.793 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:14:30.832 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:14:30.881 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:14:30.909 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:14:30.914 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:14:30.917 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:14:30.929 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:14:30.934 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:14:30.943 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:14:30.946 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:14:30.948 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:14:31.511 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:14:33.412 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:14:33.454 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:14:33.494 +02:00 [DBG] Created DbConnection. (41ms).
2024-12-20 01:14:33.510 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:14:33.546 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:14:33.552 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:14:33.561 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 01:14:33.572 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 01:14:33.573 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:14:33.573 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:14:33.586 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2024-12-20 01:14:33.590 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (21ms).
2024-12-20 01:14:33.590 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:14:33.595 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:14:33.608 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:14:33.656 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:14:33.660 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:14:33.668 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (5ms).
2024-12-20 01:14:33.683 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:14:33.684 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:14:33.689 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (4ms).
2024-12-20 01:14:33.810 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:14:34.030 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:14:34.030 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:14:34.030 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:14:34.031 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:14:34.031 +02:00 [INF] Hosting environment: Development
2024-12-20 01:14:34.031 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:14:34.031 +02:00 [DBG] Hosting started
2024-12-20 01:14:34.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:14:34.308 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:14:34.981 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:14:35.298 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:14:35.324 +02:00 [DBG] Connection ID "17942340925644603411" disconnecting.
2024-12-20 01:14:35.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:14:35.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1188.8619ms
2024-12-20 01:14:35.441 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:14:35.472 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 28.5574ms
2024-12-20 01:14:35.621 +02:00 [DBG] Connection ID "17942340925644603413" disconnecting.
2024-12-20 01:14:35.621 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 262.6329ms
2024-12-20 01:14:36.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:14:36.811 +02:00 [DBG] Connection ID "18374686485577203760" disconnecting.
2024-12-20 01:14:36.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 521.4401ms
2024-12-20 01:17:45.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployees - -
2024-12-20 01:17:45.424 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:17:45.562 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Employees/GetEmployees'
2024-12-20 01:17:45.569 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployees' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:17:45.570 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/{id}' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:17:45.572 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:17:45.835 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:17:45.845 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 01:17:45.855 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 01:17:45.858 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployees - - - 401 - - 447.3114ms
2024-12-20 01:18:12.949 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployees - -
2024-12-20 01:18:12.950 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:18:12.953 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Employees/GetEmployees'
2024-12-20 01:18:12.953 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployees' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:18:12.953 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/{id}' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:18:12.953 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:18:12.957 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:18:12.965 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 01:18:12.966 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 01:18:12.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployees - - - 401 - - 35.8562ms
2024-12-20 01:20:50.433 +02:00 [DBG] Hosting starting
2024-12-20 01:20:50.688 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:20:50.719 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:20:50.782 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:20:50.806 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:20:50.811 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:20:50.819 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:20:50.822 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:20:50.841 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:20:50.845 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:20:50.849 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:20:50.850 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:20:51.278 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:20:53.192 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:20:53.232 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:20:53.253 +02:00 [DBG] Created DbConnection. (14ms).
2024-12-20 01:20:53.268 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:20:53.316 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:20:53.324 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:20:53.330 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:20:53.340 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 01:20:53.341 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:20:53.342 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:20:53.354 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2024-12-20 01:20:53.357 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (17ms).
2024-12-20 01:20:53.357 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:20:53.361 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:20:53.375 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:20:53.423 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:20:53.427 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:20:53.433 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (6ms).
2024-12-20 01:20:53.436 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:20:53.437 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:20:53.438 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:20:53.623 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:20:53.815 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:20:53.816 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:20:53.817 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:20:53.817 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:20:53.817 +02:00 [INF] Hosting environment: Development
2024-12-20 01:20:53.818 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:20:53.818 +02:00 [DBG] Hosting started
2024-12-20 01:20:53.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:20:54.027 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:20:54.390 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:20:54.779 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:20:54.815 +02:00 [DBG] Connection ID "17798225737568747533" disconnecting.
2024-12-20 01:20:54.818 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 869.8800ms
2024-12-20 01:20:55.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:20:55.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 77.8272ms
2024-12-20 01:20:55.272 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:20:55.794 +02:00 [DBG] Connection ID "18230571293206380578" disconnecting.
2024-12-20 01:20:55.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 571.4327ms
2024-12-20 01:20:55.972 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:20:56.754 +02:00 [DBG] Connection ID "18230571293206380580" disconnecting.
2024-12-20 01:20:56.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 781.4498ms
2024-12-20 01:21:06.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployees - -
2024-12-20 01:21:06.455 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:21:06.583 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Employees/GetEmployees'
2024-12-20 01:21:06.588 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployees' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:21:06.588 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/{id}' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:21:06.601 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:21:06.863 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:21:06.874 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:21:06.924 +02:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 01:21:06.929 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:21:06.929 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:21:06.933 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:21:06.933 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:21:06.934 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:21:06.940 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 01:21:08.752 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 01:29:13.000 +02:00 [DBG] Hosting starting
2024-12-20 01:29:13.276 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:29:13.312 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:29:13.395 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:29:13.432 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:29:13.440 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:29:13.445 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:29:13.448 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:29:13.460 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:29:13.465 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:29:13.470 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:29:13.471 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:29:14.018 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:29:15.937 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:29:15.990 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:29:16.013 +02:00 [DBG] Created DbConnection. (27ms).
2024-12-20 01:29:16.020 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:29:16.061 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:29:16.073 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:29:16.080 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:29:16.090 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 01:29:16.091 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:29:16.092 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:29:16.105 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2024-12-20 01:29:16.108 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (18ms).
2024-12-20 01:29:16.109 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:29:16.114 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:29:16.129 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:29:16.188 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:29:16.194 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:29:16.209 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (16ms).
2024-12-20 01:29:16.212 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:29:16.214 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:29:16.215 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:29:16.395 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:29:16.587 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:29:16.587 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:29:16.587 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:29:16.588 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:29:16.588 +02:00 [INF] Hosting environment: Development
2024-12-20 01:29:16.588 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:29:16.588 +02:00 [DBG] Hosting started
2024-12-20 01:29:16.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:29:16.790 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:29:17.150 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:29:17.503 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:29:17.536 +02:00 [DBG] Connection ID "18086456105130524683" disconnecting.
2024-12-20 01:29:17.540 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 828.4949ms
2024-12-20 01:29:17.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:29:17.572 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:29:17.600 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 33.8217ms
2024-12-20 01:29:17.981 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 409.9756ms
2024-12-20 01:29:18.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:29:18.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 835.2719ms
2024-12-20 01:29:26.127 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployees - -
2024-12-20 01:29:26.138 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:29:26.243 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Employees/GetEmployees'
2024-12-20 01:29:26.250 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployees' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:29:26.250 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/{id}' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:29:26.253 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:29:26.539 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:29:26.556 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:29:26.596 +02:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 01:29:26.600 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:29:26.601 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:29:26.602 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:29:26.603 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:29:26.603 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:29:26.609 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 01:29:26.986 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 01:33:27.902 +02:00 [DBG] Hosting starting
2024-12-20 01:33:28.141 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:33:28.172 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:33:28.220 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:33:28.247 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:33:28.253 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:33:28.263 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:33:28.268 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:33:28.295 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:33:28.300 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:33:28.307 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:33:28.309 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:33:28.873 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:33:30.327 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:33:30.368 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:33:30.384 +02:00 [DBG] Created DbConnection. (15ms).
2024-12-20 01:33:30.388 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:33:30.405 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:33:30.411 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:33:30.417 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:33:30.426 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 01:33:30.428 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:33:30.428 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:33:30.438 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2024-12-20 01:33:30.440 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (15ms).
2024-12-20 01:33:30.441 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:33:30.445 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:33:30.453 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:33:30.563 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:33:30.566 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:33:30.578 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (9ms).
2024-12-20 01:33:30.581 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:33:30.582 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:33:30.582 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:33:30.686 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:33:31.135 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:33:31.136 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:33:31.136 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:33:31.137 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:33:31.138 +02:00 [INF] Hosting environment: Development
2024-12-20 01:33:31.138 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:33:31.138 +02:00 [DBG] Hosting started
2024-12-20 01:33:31.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:33:31.282 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:33:31.595 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:33:32.058 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:33:32.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 860.7528ms
2024-12-20 01:33:32.205 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:33:32.205 +02:00 [DBG] Connection ID "18230571306091282462" disconnecting.
2024-12-20 01:33:32.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 101.6700ms
2024-12-20 01:33:32.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:33:32.574 +02:00 [DBG] Connection ID "17798225737568747539" disconnecting.
2024-12-20 01:33:32.639 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 329.7780ms
2024-12-20 01:33:32.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:33:33.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 695.5565ms
2024-12-20 01:33:41.805 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployees - -
2024-12-20 01:33:41.809 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:33:41.901 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Employees/GetEmployees'
2024-12-20 01:33:41.906 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployees' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:33:41.906 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/{id}' is valid for the request path '/api/Employees/GetEmployees'
2024-12-20 01:33:41.909 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:33:42.163 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:33:42.168 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployees (EmployeeManagement.Application)'
2024-12-20 01:33:42.203 +02:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 01:33:42.211 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:33:42.212 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:33:42.220 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:33:42.220 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:33:42.221 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:33:42.226 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 01:33:42.526 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 01:42:50.011 +02:00 [DBG] Hosting starting
2024-12-20 01:42:50.221 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 01:42:50.251 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 01:42:50.333 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 01:42:50.362 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 01:42:50.366 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:42:50.370 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 01:42:50.374 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 01:42:50.382 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 01:42:50.386 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 01:42:50.389 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 01:42:50.391 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 01:42:50.858 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 01:42:52.421 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:42:52.478 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:42:52.506 +02:00 [DBG] Created DbConnection. (29ms).
2024-12-20 01:42:52.515 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:42:52.555 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:42:52.563 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:42:52.570 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 01:42:52.579 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 01:42:52.580 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:42:52.582 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:42:52.590 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2024-12-20 01:42:52.596 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (16ms).
2024-12-20 01:42:52.597 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:42:52.601 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:42:52.613 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:42:52.695 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 01:42:52.773 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:42:52.781 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (7ms).
2024-12-20 01:42:52.785 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:42:52.786 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:42:52.786 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:42:53.068 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 01:42:53.264 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 01:42:53.264 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 01:42:53.264 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 01:42:53.264 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 01:42:53.265 +02:00 [INF] Hosting environment: Development
2024-12-20 01:42:53.265 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 01:42:53.265 +02:00 [DBG] Hosting started
2024-12-20 01:42:53.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 01:42:53.475 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 01:42:53.840 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 01:42:54.255 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 01:42:54.270 +02:00 [DBG] Connection ID "17798225737568747541" disconnecting.
2024-12-20 01:42:54.272 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 853.2903ms
2024-12-20 01:42:54.384 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 01:42:54.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 01:42:54.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 12.8611ms
2024-12-20 01:42:55.314 +02:00 [DBG] Connection ID "18374686485577203774" disconnecting.
2024-12-20 01:42:55.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 944.3914ms
2024-12-20 01:42:55.508 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 01:42:56.184 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 676.3452ms
2024-12-20 01:44:08.136 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 118
2024-12-20 01:44:08.142 +02:00 [DBG] POST requests are not supported
2024-12-20 01:44:08.258 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:44:08.286 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:44:08.299 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:44:08.303 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:44:08.303 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:44:08.550 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:44:08.556 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:44:08.617 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:44:08.620 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:44:08.621 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:44:08.624 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:44:08.624 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:44:08.625 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:44:08.631 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:44:08.637 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:44:08.650 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:44:08.666 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:44:08.671 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:44:08.724 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:44:08.726 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:44:08.727 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:44:08.730 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:44:08.757 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:44:08.761 +02:00 [DBG] The request has model state errors, returning an error response.
2024-12-20 01:44:08.766 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-20 01:44:08.769 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 01:44:08.772 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 01:44:08.773 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-20 01:44:08.775 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-20 01:44:08.776 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-20 01:44:08.804 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 175.2692ms
2024-12-20 01:44:08.805 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:44:08.806 +02:00 [DBG] Connection ID "18086456105130524693" disconnecting.
2024-12-20 01:44:08.809 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 118 - 400 - application/problem+json;+charset=utf-8 674.4362ms
2024-12-20 01:44:47.201 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 122
2024-12-20 01:44:47.201 +02:00 [DBG] POST requests are not supported
2024-12-20 01:44:47.215 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:44:47.215 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:44:47.215 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:44:47.216 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:44:47.217 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:44:47.220 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:44:47.220 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:44:47.222 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:44:47.222 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:44:47.222 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:44:47.223 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:44:47.225 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:44:47.225 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:44:47.225 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:44:47.227 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:44:47.228 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:44:47.229 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:44:47.230 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:44:47.233 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:44:47.234 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:44:47.234 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:44:47.234 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:44:47.235 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:44:51.614 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:44:51.792 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 01:44:52.734 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 01:44:52.907 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:44:52.907 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:44:52.908 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:44:52.908 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:44:52.945 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2024-12-20 01:44:52.961 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:44:52.965 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:44:52.974 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:44:52.992 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:44:53.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:44:53.351 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:44:53.358 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 362ms reading results.
2024-12-20 01:44:53.366 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:44:53.368 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 01:44:53.377 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 01:44:53.379 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 01:44:53.379 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 01:44:53.380 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 01:44:53.380 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 01:44:53.381 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-12-20 01:44:53.387 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 6160.2209ms
2024-12-20 01:44:53.388 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:44:53.388 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:44:53.407 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:44:53.408 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:44:53.419 +02:00 [DBG] Connection ID "18086456113720459280" disconnecting.
2024-12-20 01:44:53.600 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 122 - 400 - text/plain;+charset=utf-8 6399.6093ms
2024-12-20 01:45:02.353 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 124
2024-12-20 01:45:02.354 +02:00 [DBG] POST requests are not supported
2024-12-20 01:45:02.354 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 01:45:02.354 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 01:45:02.355 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:45:02.356 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:45:02.357 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:45:02.361 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:45:02.362 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:45:02.362 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 01:45:02.363 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 01:45:02.363 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 01:45:02.363 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 01:45:02.363 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 01:45:02.363 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 01:45:02.364 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:45:02.372 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 01:45:02.413 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:45:02.413 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 01:45:02.414 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 01:45:02.414 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 01:45:02.414 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:45:02.415 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:45:02.415 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 01:45:02.416 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 01:45:07.912 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 01:45:07.920 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:45:07.920 +02:00 [DBG] Creating DbConnection.
2024-12-20 01:45:07.920 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 01:45:07.920 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:45:07.921 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:45:07.921 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:45:07.921 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:45:07.921 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:45:07.922 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 01:45:07.923 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:45:07.923 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 01:45:07.923 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:45:07.923 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:45:08.562 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:45:08.582 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:45:08.593 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 01:45:08.599 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 01:45:08.624 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 01:45:08.732 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:45:08.732 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:45:08.739 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 01:45:08.739 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 01:45:08.740 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 01:45:08.740 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 21), @p2='?' (Size = 11), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 01:45:08.786 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 21), @p2='?' (Size = 11), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 01:45:08.814 +02:00 [DBG] The foreign key property 'Manager.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 01:45:08.940 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:45:08.941 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 154ms reading results.
2024-12-20 01:45:08.941 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 01:45:08.942 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:45:09.002 +02:00 [DBG] An entity of type 'Manager' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 01:45:09.005 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 01:45:09.143 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 01:45:09.143 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 01:45:09.143 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 01:45:09.143 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 01:45:09.144 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 01:45:09.144 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 01:45:09.175 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 6811.7497ms
2024-12-20 01:45:09.176 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 01:45:09.176 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 01:45:09.177 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 01:45:09.177 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 01:45:09.177 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 124 - 200 - application/json;+charset=utf-8 6826.9002ms
2024-12-20 01:45:26.123 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees application/json 124
2024-12-20 01:45:26.123 +02:00 [DBG] POST requests are not supported
2024-12-20 01:45:26.123 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees'
2024-12-20 01:45:26.123 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees' is valid for the request path '/api/Employees'
2024-12-20 01:45:26.123 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 01:45:26.124 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 01:45:26.124 +02:00 [INF] CORS policy execution successful.
2024-12-20 01:45:26.124 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:45:26.151 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 01:45:26.160 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 01:45:26.162 +02:00 [DBG] Connection ID "17726168143530819587" disconnecting.
2024-12-20 01:45:26.162 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees application/json 124 - 401 - - 39.4628ms
2024-12-20 01:46:39.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/search?name=ester%20blass - -
2024-12-20 01:46:39.647 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:46:39.653 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Employees/search'
2024-12-20 01:46:39.654 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/search' is valid for the request path '/api/Employees/search'
2024-12-20 01:46:39.655 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/{id}' is valid for the request path '/api/Employees/search'
2024-12-20 01:46:39.655 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 01:46:39.656 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:46:39.665 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 01:46:39.678 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 01:46:39.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/search?name=ester%20blass - - - 401 - - 32.6189ms
2024-12-20 01:46:39.679 +02:00 [DBG] Connection ID "18230571306091282473" disconnecting.
2024-12-20 01:46:56.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/search?name=Ester%20Blass - -
2024-12-20 01:46:56.372 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 01:46:56.376 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Employees/search'
2024-12-20 01:46:56.376 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/search' is valid for the request path '/api/Employees/search'
2024-12-20 01:46:56.376 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/{id}' is valid for the request path '/api/Employees/search'
2024-12-20 01:46:56.376 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 01:46:56.377 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 01:46:56.384 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 01:46:56.386 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 01:46:56.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/search?name=Ester%20Blass - - - 401 - - 15.6856ms
2024-12-20 02:00:30.642 +02:00 [DBG] Hosting starting
2024-12-20 02:00:34.396 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 02:00:34.510 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 02:00:34.812 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 02:00:34.915 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 02:00:34.929 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 02:00:34.933 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 02:00:34.941 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 02:00:34.947 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 02:00:34.950 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 02:00:34.964 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 02:00:35.017 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 02:00:37.994 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 02:00:40.815 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 02:00:40.886 +02:00 [DBG] Creating DbConnection.
2024-12-20 02:00:40.910 +02:00 [DBG] Created DbConnection. (24ms).
2024-12-20 02:00:40.919 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:00:40.980 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:00:40.993 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:00:41.012 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 02:00:41.030 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 02:00:41.031 +02:00 [DBG] Creating DbConnection.
2024-12-20 02:00:41.031 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 02:00:41.060 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (19ms).
2024-12-20 02:00:41.064 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (37ms).
2024-12-20 02:00:41.064 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:00:41.077 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:00:41.095 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 02:00:41.225 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 02:00:41.238 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:00:41.245 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (9ms).
2024-12-20 02:00:41.253 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 02:00:41.257 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:00:41.258 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 02:00:41.512 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 02:00:41.749 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 02:00:41.749 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 02:00:41.749 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 02:00:41.750 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 02:00:41.750 +02:00 [INF] Hosting environment: Development
2024-12-20 02:00:41.751 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 02:00:41.751 +02:00 [DBG] Hosting started
2024-12-20 02:00:41.973 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 02:00:42.091 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 02:00:42.609 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 02:00:43.232 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 02:00:43.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1314.6124ms
2024-12-20 02:00:43.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 02:00:43.854 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 02:00:43.880 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 11.9765ms
2024-12-20 02:00:43.973 +02:00 [DBG] Connection ID "18086456105130524696" disconnecting.
2024-12-20 02:00:44.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 440.1816ms
2024-12-20 02:00:44.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 02:00:44.937 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 579.0342ms
2024-12-20 02:01:08.279 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 170
2024-12-20 02:01:08.297 +02:00 [DBG] POST requests are not supported
2024-12-20 02:01:08.446 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 02:01:08.490 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 02:01:08.491 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 02:01:08.503 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 02:01:08.504 +02:00 [INF] CORS policy execution successful.
2024-12-20 02:01:09.518 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 02:01:09.539 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 02:01:09.730 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 02:01:09.734 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 02:01:09.735 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 02:01:09.736 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 02:01:09.737 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 02:01:09.737 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 02:01:09.741 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 02:01:09.755 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 02:01:09.848 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 02:01:09.873 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 02:01:09.883 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 02:01:10.085 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 02:01:10.085 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 02:01:10.086 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 02:01:10.086 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 02:01:10.237 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 02:01:16.895 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 02:01:16.981 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 02:01:17.635 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 02:01:17.706 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 02:01:17.706 +02:00 [DBG] Creating DbConnection.
2024-12-20 02:01:17.707 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 02:01:17.707 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 02:01:17.713 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-12-20 02:01:17.716 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:01:17.719 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:17.724 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 02:01:17.747 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 02:01:17.981 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 02:01:18.140 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:18.150 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 397ms reading results.
2024-12-20 02:01:18.159 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:18.174 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 02:01:18.205 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 02:01:18.217 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 02:01:18.217 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 02:01:18.217 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 02:01:18.222 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 02:01:18.223 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-12-20 02:01:18.250 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 8499.0643ms
2024-12-20 02:01:18.251 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 02:01:18.253 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 02:01:18.263 +02:00 [DBG] Connection ID "18158513703463419925" disconnecting.
2024-12-20 02:01:18.265 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:01:18.266 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 02:01:18.268 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 170 - 400 - text/plain;+charset=utf-8 9989.4247ms
2024-12-20 02:01:33.578 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 178
2024-12-20 02:01:33.579 +02:00 [DBG] POST requests are not supported
2024-12-20 02:01:33.585 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 02:01:33.585 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 02:01:33.586 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 02:01:33.591 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 02:01:33.592 +02:00 [INF] CORS policy execution successful.
2024-12-20 02:01:33.599 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 02:01:33.600 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 02:01:33.600 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 02:01:33.601 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 02:01:33.601 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 02:01:33.601 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 02:01:33.601 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 02:01:33.601 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 02:01:33.601 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 02:01:33.602 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 02:01:33.605 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 02:01:33.607 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 02:01:33.607 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 02:01:33.611 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 02:01:33.611 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 02:01:33.611 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 02:01:33.614 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 02:01:33.616 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 02:01:33.850 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 02:01:33.858 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 02:01:33.858 +02:00 [DBG] Creating DbConnection.
2024-12-20 02:01:33.859 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 02:01:33.859 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 02:01:33.859 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 02:01:33.859 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:01:33.860 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:33.860 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 02:01:33.861 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 02:01:33.861 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:33.863 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 1ms reading results.
2024-12-20 02:01:33.864 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:33.864 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 02:01:34.711 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 02:01:34.740 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 02:01:34.749 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 02:01:34.766 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 02:01:34.799 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 02:01:35.109 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:01:35.109 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:35.118 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 02:01:35.118 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 02:01:35.122 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-20 02:01:35.123 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 24), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 02:01:35.129 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 24), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 02:01:35.160 +02:00 [DBG] The foreign key property 'Manager.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 02:01:35.179 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:35.179 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 49ms reading results.
2024-12-20 02:01:35.180 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 02:01:35.181 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 02:01:35.211 +02:00 [DBG] An entity of type 'Manager' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 02:01:35.214 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 02:01:35.426 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 02:01:35.428 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 02:01:35.429 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 02:01:35.429 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 02:01:35.431 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 02:01:35.431 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 02:01:35.494 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 1892.4813ms
2024-12-20 02:01:35.494 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 02:01:35.494 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 02:01:35.494 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 02:01:35.495 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 02:01:35.495 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 178 - 200 - application/json;+charset=utf-8 1916.7423ms
2024-12-20 02:01:58.304 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees application/json 178
2024-12-20 02:01:58.304 +02:00 [DBG] POST requests are not supported
2024-12-20 02:01:58.305 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees'
2024-12-20 02:01:58.310 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees' is valid for the request path '/api/Employees'
2024-12-20 02:01:58.311 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 02:01:58.336 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 02:01:58.336 +02:00 [INF] CORS policy execution successful.
2024-12-20 02:01:58.340 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 02:01:58.352 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 02:01:58.360 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 02:01:58.363 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees application/json 178 - 401 - - 59.0279ms
2024-12-20 09:49:07.948 +02:00 [DBG] Hosting starting
2024-12-20 09:49:08.368 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 09:49:08.465 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 09:49:08.650 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 09:49:08.705 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 09:49:08.713 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 09:49:08.717 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 09:49:08.722 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 09:49:08.731 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 09:49:08.751 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 09:49:08.753 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 09:49:08.758 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 09:49:09.621 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 09:49:12.713 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 09:49:12.827 +02:00 [DBG] Creating DbConnection.
2024-12-20 09:49:12.895 +02:00 [DBG] Created DbConnection. (22ms).
2024-12-20 09:49:12.903 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:49:12.979 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:49:13.061 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:49:13.072 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 09:49:13.079 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 09:49:13.080 +02:00 [DBG] Creating DbConnection.
2024-12-20 09:49:13.081 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 09:49:13.122 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2024-12-20 09:49:13.128 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (48ms).
2024-12-20 09:49:13.128 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:49:13.132 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:49:13.151 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 09:49:13.391 +02:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 09:49:13.398 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:49:13.403 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (5ms).
2024-12-20 09:49:13.413 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 09:49:13.415 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:49:13.416 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 09:49:13.924 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 09:49:14.396 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 09:49:14.396 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 09:49:14.396 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 09:49:14.397 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 09:49:14.397 +02:00 [INF] Hosting environment: Development
2024-12-20 09:49:14.397 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 09:49:14.397 +02:00 [DBG] Hosting started
2024-12-20 09:49:14.571 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 09:49:14.779 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 09:49:15.803 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 09:49:16.887 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 09:49:16.927 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 2358.8675ms
2024-12-20 09:49:17.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 09:49:17.394 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 09:49:17.420 +02:00 [DBG] Connection ID "17798225737568747548" disconnecting.
2024-12-20 09:49:17.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 25.1816ms
2024-12-20 09:49:17.639 +02:00 [DBG] Connection ID "17942340925644603429" disconnecting.
2024-12-20 09:49:17.731 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 345.8577ms
2024-12-20 09:49:17.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 09:49:18.710 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 779.5830ms
2024-12-20 09:49:18.740 +02:00 [DBG] Connection ID "18086456105130524705" disconnecting.
2024-12-20 09:51:40.893 +02:00 [DBG] Hosting starting
2024-12-20 09:51:41.181 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 09:51:41.224 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 09:51:41.322 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 09:51:41.439 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 09:51:41.443 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 09:51:41.455 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 09:51:41.459 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 09:51:41.492 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 09:51:41.504 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 09:51:41.507 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 09:51:41.508 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 09:51:42.217 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 09:51:47.784 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 09:51:47.848 +02:00 [DBG] Creating DbConnection.
2024-12-20 09:51:47.874 +02:00 [DBG] Created DbConnection. (24ms).
2024-12-20 09:51:47.884 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:51:47.932 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:51:47.949 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:51:47.962 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (9ms).
2024-12-20 09:51:47.972 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 09:51:47.973 +02:00 [DBG] Creating DbConnection.
2024-12-20 09:51:47.974 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 09:51:47.989 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2024-12-20 09:51:47.991 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (20ms).
2024-12-20 09:51:47.992 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:51:48.000 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:51:48.018 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 09:51:48.104 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 09:51:48.109 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:51:48.115 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (6ms).
2024-12-20 09:51:48.120 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 09:51:48.121 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:51:48.122 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 09:51:48.410 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 09:51:48.809 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 09:51:48.810 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 09:51:48.810 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 09:51:48.811 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 09:51:48.811 +02:00 [INF] Hosting environment: Development
2024-12-20 09:51:48.812 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 09:51:48.813 +02:00 [DBG] Hosting started
2024-12-20 09:51:48.962 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 09:51:49.110 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 09:51:49.672 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 09:51:50.161 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 09:51:50.213 +02:00 [DBG] Connection ID "17942340925644603435" disconnecting.
2024-12-20 09:51:50.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1258.4187ms
2024-12-20 09:51:50.490 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 09:51:50.492 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 09:51:50.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 32.2027ms
2024-12-20 09:51:50.812 +02:00 [DBG] Connection ID "17942340925644603437" disconnecting.
2024-12-20 09:51:50.813 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 322.5414ms
2024-12-20 09:51:50.928 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 09:51:51.647 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 718.1438ms
2024-12-20 09:51:51.647 +02:00 [DBG] Connection ID "17942340925644603439" disconnecting.
2024-12-20 09:52:49.856 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 93
2024-12-20 09:52:49.864 +02:00 [DBG] POST requests are not supported
2024-12-20 09:52:49.969 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 09:52:49.986 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 09:52:50.003 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 09:52:50.018 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 09:52:50.019 +02:00 [INF] CORS policy execution successful.
2024-12-20 09:52:50.299 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 09:52:50.336 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 09:52:50.347 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 09:52:50.356 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 93 - 401 - - 503.7790ms
2024-12-20 09:53:31.304 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 93
2024-12-20 09:53:31.305 +02:00 [DBG] POST requests are not supported
2024-12-20 09:53:31.314 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 09:53:31.314 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 09:53:31.315 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 09:53:31.316 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 09:53:31.316 +02:00 [INF] CORS policy execution successful.
2024-12-20 09:53:31.320 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 09:53:31.326 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 09:53:31.327 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 09:53:31.346 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 93 - 401 - - 41.9216ms
2024-12-20 09:55:19.246 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 93
2024-12-20 09:55:19.247 +02:00 [DBG] POST requests are not supported
2024-12-20 09:55:19.249 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 09:55:19.250 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 09:55:19.250 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 09:55:19.251 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 09:55:19.251 +02:00 [INF] CORS policy execution successful.
2024-12-20 09:55:19.253 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 09:55:19.256 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 09:55:19.396 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 09:55:19.400 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 09:55:19.400 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 09:55:19.401 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 09:55:19.401 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 09:55:19.401 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 09:55:19.410 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 09:55:19.413 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 09:55:19.428 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 09:55:19.448 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 09:55:19.452 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 09:55:19.589 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 09:55:19.593 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 09:55:19.595 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 09:55:19.596 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 09:55:19.659 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 09:55:19.735 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 09:55:19.841 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 09:55:20.549 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 09:55:20.644 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 09:55:20.644 +02:00 [DBG] Creating DbConnection.
2024-12-20 09:55:20.644 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 09:55:20.645 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 09:55:20.658 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-12-20 09:55:20.664 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:55:20.672 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:55:20.681 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 09:55:20.698 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 09:55:20.714 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:55:20.718 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 16ms reading results.
2024-12-20 09:55:20.725 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:55:20.727 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 09:55:21.959 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 09:55:22.162 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 09:55:22.197 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 09:55:22.206 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 09:55:22.258 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 09:55:22.388 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:55:22.388 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:55:22.396 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 09:55:22.396 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 09:55:22.398 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-20 09:55:22.400 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 22), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 09:55:22.409 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 22), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 09:55:22.455 +02:00 [DBG] The foreign key property 'Manager.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 09:55:22.470 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:55:22.470 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 58ms reading results.
2024-12-20 09:55:22.473 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 09:55:22.474 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 09:55:22.495 +02:00 [DBG] An entity of type 'Manager' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 09:55:22.498 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 09:55:22.609 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 09:55:22.612 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 09:55:22.612 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 09:55:22.613 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 09:55:22.616 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 09:55:22.617 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 09:55:22.646 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 3238.1057ms
2024-12-20 09:55:22.648 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 09:55:22.651 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 09:55:22.663 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 09:55:22.664 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 09:55:22.666 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 93 - 200 - application/json;+charset=utf-8 3420.0091ms
2024-12-20 09:56:52.745 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 93
2024-12-20 09:56:52.745 +02:00 [DBG] POST requests are not supported
2024-12-20 09:56:52.745 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 09:56:52.745 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 09:56:52.746 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 09:56:52.746 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 09:56:52.746 +02:00 [INF] CORS policy execution successful.
2024-12-20 09:56:52.746 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 09:56:52.748 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 09:56:52.749 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 09:56:52.755 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 93 - 401 - - 10.1535ms
2024-12-20 09:57:43.795 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=string - -
2024-12-20 09:57:43.804 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 09:57:43.806 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/SearchEmployees'
2024-12-20 09:57:43.806 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/SearchEmployees' is valid for the request path '/api/Employees/SearchEmployees'
2024-12-20 09:57:43.806 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 09:57:43.807 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 09:57:43.807 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 09:57:43.807 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 09:57:43.808 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=string - - - 401 - - 12.7848ms
2024-12-20 09:59:35.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=string - -
2024-12-20 09:59:35.430 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 09:59:35.430 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/SearchEmployees'
2024-12-20 09:59:35.430 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/SearchEmployees' is valid for the request path '/api/Employees/SearchEmployees'
2024-12-20 09:59:35.430 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 09:59:35.430 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 09:59:35.431 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 09:59:35.431 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 09:59:35.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=string - - - 401 - - 3.3548ms
2024-12-20 10:01:12.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - -
2024-12-20 10:01:12.756 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 10:01:12.757 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 10:01:12.757 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployeesByManagerId' is valid for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 10:01:12.757 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 10:01:12.759 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:01:12.759 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-20 10:01:12.759 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-20 10:01:12.761 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - - - 401 - - 5.6931ms
2024-12-20 10:02:14.525 +02:00 [DBG] Hosting starting
2024-12-20 10:02:15.072 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 10:02:15.184 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 10:02:15.259 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 10:02:15.293 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 10:02:15.300 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:02:15.306 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 10:02:15.314 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:02:15.326 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 10:02:15.331 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 10:02:15.334 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 10:02:15.336 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 10:02:15.876 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 10:02:17.852 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:02:17.903 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:02:17.921 +02:00 [DBG] Created DbConnection. (16ms).
2024-12-20 10:02:17.929 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:02:17.970 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:02:17.980 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:02:17.991 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 10:02:18.010 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 10:02:18.012 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:02:18.012 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:02:18.029 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (15ms).
2024-12-20 10:02:18.031 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (26ms).
2024-12-20 10:02:18.031 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:02:18.035 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:02:18.048 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:02:18.084 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:02:18.091 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:02:18.096 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (6ms).
2024-12-20 10:02:18.099 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:02:18.101 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:02:18.101 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:02:18.261 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 10:02:18.463 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 10:02:18.463 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 10:02:18.463 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 10:02:18.464 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 10:02:18.464 +02:00 [INF] Hosting environment: Development
2024-12-20 10:02:18.464 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 10:02:18.465 +02:00 [DBG] Hosting started
2024-12-20 10:02:18.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 10:02:18.767 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 10:02:19.316 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 10:02:20.228 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 10:02:20.692 +02:00 [DBG] Connection ID "17870283331606675492" disconnecting.
2024-12-20 10:02:20.900 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 10:02:20.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 2042.4125ms
2024-12-20 10:02:20.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 10:02:20.960 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 58.4871ms
2024-12-20 10:02:21.277 +02:00 [DBG] Connection ID "18230571297501347887" disconnecting.
2024-12-20 10:02:21.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 335.6157ms
2024-12-20 10:02:21.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 10:02:21.988 +02:00 [DBG] Connection ID "17870283331606675494" disconnecting.
2024-12-20 10:02:21.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 561.4833ms
2024-12-20 10:02:31.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - -
2024-12-20 10:02:31.335 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 10:02:31.438 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 10:02:31.443 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployeesByManagerId' is valid for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 10:02:31.446 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 10:02:31.702 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:02:31.710 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 10:02:31.770 +02:00 [INF] Route matched with {action = "GetEmployeesByManagerId", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesByManagerId() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:02:31.774 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:02:31.774 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:02:31.775 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:02:31.776 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:02:31.776 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:02:31.780 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:02:33.505 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:13:54.889 +02:00 [DBG] Hosting starting
2024-12-20 10:13:55.159 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 10:13:55.213 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 10:13:55.309 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 10:13:55.344 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 10:13:55.348 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:13:55.354 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 10:13:55.360 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:13:55.365 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 10:13:55.370 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 10:13:55.374 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 10:13:55.375 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 10:13:55.794 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 10:13:57.191 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:13:57.234 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:13:57.266 +02:00 [DBG] Created DbConnection. (21ms).
2024-12-20 10:13:57.273 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:13:57.335 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:13:57.359 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:13:57.395 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (5ms).
2024-12-20 10:13:57.407 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 10:13:57.409 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:13:57.414 +02:00 [DBG] Created DbConnection. (5ms).
2024-12-20 10:13:57.448 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (23ms).
2024-12-20 10:13:57.453 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (47ms).
2024-12-20 10:13:57.453 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:13:57.461 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:13:57.479 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:13:57.606 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:13:57.611 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:13:57.616 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (5ms).
2024-12-20 10:13:57.620 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:13:57.626 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:13:57.627 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:13:57.807 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 10:13:57.999 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 10:13:58.000 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 10:13:58.000 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 10:13:58.000 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 10:13:58.001 +02:00 [INF] Hosting environment: Development
2024-12-20 10:13:58.001 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 10:13:58.001 +02:00 [DBG] Hosting started
2024-12-20 10:13:58.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 10:13:58.214 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 10:13:58.589 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 10:13:59.016 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 10:13:59.032 +02:00 [DBG] Connection ID "17798225737568747554" disconnecting.
2024-12-20 10:13:59.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 896.5203ms
2024-12-20 10:13:59.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 10:13:59.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 10:13:59.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 55.6304ms
2024-12-20 10:13:59.369 +02:00 [DBG] Connection ID "18086456105130524713" disconnecting.
2024-12-20 10:13:59.676 +02:00 [DBG] Connection ID "18230571297501347889" disconnecting.
2024-12-20 10:13:59.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 372.6305ms
2024-12-20 10:14:00.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 10:14:01.931 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1745.0953ms
2024-12-20 10:14:36.034 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 69
2024-12-20 10:14:36.042 +02:00 [DBG] POST requests are not supported
2024-12-20 10:14:36.153 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:14:36.189 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:14:36.215 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:14:36.219 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:14:36.220 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:14:36.544 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:14:36.554 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:14:36.636 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:14:36.640 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:14:36.641 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:14:36.642 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:14:36.642 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:14:36.643 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:14:36.655 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:14:36.660 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:14:36.687 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:14:36.693 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:14:36.697 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:14:36.742 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:14:36.743 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:14:36.743 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:14:36.744 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:14:36.774 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:14:36.858 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:14:36.955 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 10:14:37.345 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:14:37.429 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:14:37.430 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:14:37.431 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:14:37.432 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-20 10:14:37.439 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-12-20 10:14:37.446 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:14:37.459 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:14:37.473 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:14:37.494 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:14:37.563 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:14:37.604 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:14:37.607 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 110ms reading results.
2024-12-20 10:14:37.610 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:14:37.611 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:14:38.399 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:14:38.402 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:14:38.402 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:14:38.403 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:14:38.405 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:14:38.406 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:14:38.437 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 1789.6291ms
2024-12-20 10:14:38.439 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:14:38.439 +02:00 [DBG] Connection ID "17798225737568747556" disconnecting.
2024-12-20 10:14:38.446 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:14:38.453 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:14:38.454 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:14:38.457 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 69 - 200 - application/json;+charset=utf-8 2422.8511ms
2024-12-20 10:15:51.688 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 69
2024-12-20 10:15:51.689 +02:00 [DBG] POST requests are not supported
2024-12-20 10:15:51.692 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:15:51.692 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:15:51.693 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:15:51.694 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:15:51.694 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:15:51.697 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:15:51.697 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:15:51.698 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:15:51.698 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:15:51.698 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:15:51.698 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:15:51.698 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:15:51.699 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:15:51.699 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:15:51.702 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:15:51.703 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:15:51.704 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:15:51.704 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:15:51.707 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:15:51.707 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:15:51.714 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:15:51.714 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:15:51.716 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:16:05.939 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:16:06.083 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:16:06.083 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:16:06.084 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:16:06.084 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:16:06.084 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:16:06.084 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:16:06.085 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:16:06.085 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:16:06.086 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:16:10.160 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:16:10.161 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:16:10.162 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 4074ms reading results.
2024-12-20 10:16:10.164 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:16:10.165 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 10:17:59.783 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:17:59.784 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:17:59.785 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:17:59.785 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:17:59.786 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:17:59.786 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:17:59.790 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 128090.4556ms
2024-12-20 10:17:59.790 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:17:59.791 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:17:59.794 +02:00 [DBG] Connection ID "17798225737568747558" disconnecting.
2024-12-20 10:17:59.794 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:17:59.795 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 10:17:59.796 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 69 - 200 - application/json;+charset=utf-8 128136.2559ms
2024-12-20 10:23:59.733 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 82
2024-12-20 10:23:59.735 +02:00 [DBG] POST requests are not supported
2024-12-20 10:23:59.735 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 10:23:59.735 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 10:23:59.736 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:23:59.741 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:23:59.742 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:23:59.748 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:23:59.748 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:23:59.764 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:23:59.764 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:23:59.764 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:23:59.764 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:23:59.764 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:23:59.765 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:23:59.765 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:23:59.772 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:23:59.772 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:23:59.774 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 10:23:59.774 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:23:59.779 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 10:23:59.779 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:23:59.779 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:23:59.779 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:23:59.804 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:23:59.809 +02:00 [DBG] The request has model state errors, returning an error response.
2024-12-20 10:23:59.814 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-20 10:23:59.814 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:23:59.815 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:23:59.816 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-20 10:23:59.817 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-20 10:23:59.818 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-20 10:23:59.843 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 78.2968ms
2024-12-20 10:23:59.843 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:23:59.844 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 82 - 400 - application/problem+json;+charset=utf-8 110.3774ms
2024-12-20 10:24:17.534 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 85
2024-12-20 10:24:17.534 +02:00 [DBG] POST requests are not supported
2024-12-20 10:24:17.538 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 10:24:17.540 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 10:24:17.540 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:24:17.541 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:24:17.541 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:24:17.541 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:24:17.541 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:24:17.541 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:24:17.541 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:24:17.542 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:24:17.542 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:24:17.542 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:24:17.542 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:24:17.542 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:24:17.545 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:24:17.547 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:24:17.548 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 10:24:17.548 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:24:17.551 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 10:24:17.551 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:24:17.551 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:24:17.552 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:24:17.555 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:24:17.564 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:24:17.566 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:24:17.566 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:24:17.566 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:24:17.567 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:24:17.567 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:24:17.567 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:24:17.568 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:24:17.568 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:24:17.572 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:24:17.572 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:24:17.572 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 10:24:17.574 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:24:17.574 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:24:18.498 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:24:18.565 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:24:18.581 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 10:24:18.592 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 10:24:18.641 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 10:24:18.966 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:24:18.966 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:24:18.974 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:24:18.975 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:24:18.976 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:24:18.976 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 17), @p2='?' (Size = 5), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 10:24:18.991 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 17), @p2='?' (Size = 5), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 10:24:19.023 +02:00 [DBG] The foreign key property 'Manager.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 10:24:19.058 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:24:19.059 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 66ms reading results.
2024-12-20 10:24:19.060 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:24:19.060 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:24:19.192 +02:00 [DBG] An entity of type 'Manager' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:24:19.194 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 10:24:19.195 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:24:19.195 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:24:19.195 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:24:19.195 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:24:19.195 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:24:19.195 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:24:19.218 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 1675.2686ms
2024-12-20 10:24:19.218 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:24:19.218 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:24:19.218 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:24:19.220 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 10:24:19.221 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 85 - 200 - application/json;+charset=utf-8 1686.7549ms
2024-12-20 10:27:56.692 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62
2024-12-20 10:27:56.692 +02:00 [DBG] POST requests are not supported
2024-12-20 10:27:56.693 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:27:56.693 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:27:56.693 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:27:56.693 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:27:56.693 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:27:56.801 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:27:56.807 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:27:56.809 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:27:56.809 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:27:56.810 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:27:56.811 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:27:56.811 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:27:56.813 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:27:56.813 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:27:56.813 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:27:56.814 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:27:56.814 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:27:56.815 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:27:56.815 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:27:56.815 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:27:56.815 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:27:56.816 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:27:56.816 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:27:56.816 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:28:12.542 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:28:12.571 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:28:12.571 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:28:12.572 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:28:12.572 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:28:12.572 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:28:12.572 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:28:12.572 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:28:12.573 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:28:12.575 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:28:15.695 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:28:15.695 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:28:15.696 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 3119ms reading results.
2024-12-20 10:28:15.696 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:28:15.697 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:28:46.762 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:28:46.762 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:28:46.763 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:28:46.763 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:28:46.763 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:28:46.763 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:28:46.875 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 50061.3347ms
2024-12-20 10:28:46.875 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:28:51.191 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:28:51.191 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:28:51.191 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:28:51.191 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62 - 200 - application/json;+charset=utf-8 54499.7924ms
2024-12-20 10:29:38.862 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62
2024-12-20 10:29:38.863 +02:00 [DBG] POST requests are not supported
2024-12-20 10:29:38.864 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:29:38.864 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:29:38.864 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:29:38.864 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:29:38.864 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:29:38.871 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:29:38.872 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:29:38.873 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:29:38.873 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:29:38.873 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:29:38.873 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:29:38.873 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:29:38.874 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:29:38.876 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:29:38.878 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:29:38.879 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:29:38.881 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:29:38.882 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:29:38.883 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:29:38.883 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:29:38.883 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:29:38.883 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:29:38.883 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:29:38.884 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:29:43.636 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:29:43.646 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:29:43.646 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:29:43.648 +02:00 [DBG] Created DbConnection. (1ms).
2024-12-20 10:29:43.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-20 10:29:43.650 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-20 10:29:43.651 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:29:43.651 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:29:43.651 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:29:43.652 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:29:43.652 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:29:43.653 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:29:43.653 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 10:29:43.653 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:29:43.653 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:30:04.478 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:30:04.478 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:30:04.478 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:30:04.478 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:30:04.480 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:30:04.480 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:30:04.481 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:30:04.494 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:30:04.495 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 10:30:04.495 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:30:04.495 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:31:07.405 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:31:07.407 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:31:07.410 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:31:07.410 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:31:07.411 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:31:07.411 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:31:07.411 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 88533.8741ms
2024-12-20 10:31:07.412 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:31:07.412 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:31:07.412 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:31:07.412 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:31:07.412 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62 - 200 - application/json;+charset=utf-8 88550.0629ms
2024-12-20 10:31:26.044 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - -
2024-12-20 10:31:26.049 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 10:31:26.053 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 10:31:26.053 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployeesByManagerId' is valid for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 10:31:26.054 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 10:31:26.056 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:31:26.056 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:31:26.084 +02:00 [DBG] Authorization was successful.
2024-12-20 10:31:26.090 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 10:31:26.099 +02:00 [INF] Route matched with {action = "GetEmployeesByManagerId", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesByManagerId() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:31:26.099 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:31:26.100 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:31:26.100 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:31:26.101 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:31:26.101 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:31:26.101 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:31:26.627 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:32:03.599 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:32:03.787 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.ManagerId == __managerId_0)'
2024-12-20 10:32:03.881 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 10:32:04.303 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE e.ManagerId == @__managerId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:32:04.310 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:32:04.310 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:32:04.310 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:32:04.310 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:32:04.310 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:32:04.311 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:32:04.311 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:32:04.311 +02:00 [DBG] Executing DbCommand [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 10:32:04.322 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 10:32:04.322 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:32:04.323 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 10:32:04.323 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:32:04.324 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:32:15.116 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:32:15.117 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:32:15.117 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:32:15.117 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:32:15.117 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:32:15.117 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeManager.Core.DTOs.EmployeeDto, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-20 10:32:15.350 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application) in 49248.8026ms
2024-12-20 10:32:15.351 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 10:32:18.673 +02:00 [DBG] Connection ID "18374686494167138358" disconnecting.
2024-12-20 10:33:05.895 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86
2024-12-20 10:33:05.895 +02:00 [DBG] POST requests are not supported
2024-12-20 10:33:05.898 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:33:05.898 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:33:05.898 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:33:05.899 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:33:05.899 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:33:05.900 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:33:05.900 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:33:05.905 +02:00 [DBG] Authorization was successful.
2024-12-20 10:33:05.906 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:33:06.637 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:33:06.641 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:33:06.641 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:33:06.641 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (3ms).
2024-12-20 10:33:06.641 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:33:06.645 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:33:06.645 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:33:06.645 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:33:06.645 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:33:06.646 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:33:07.326 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:33:07.326 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:33:07.326 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 10:33:07.327 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:33:07.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - - - 200 - application/json;+charset=utf-8 101313.4566ms
2024-12-20 10:33:07.369 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 10:33:07.369 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:33:07.369 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:33:07.370 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:33:07.376 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:33:22.210 +02:00 [INF] Creating new employee for manager 6
2024-12-20 10:35:14.104 +02:00 [ERR] Error creating employee
System.NotImplementedException: The method or operation is not implemented.
   at EmployeeManager.Infrastructure.Repositories.EmployeeRepository.GetByEmailAsync(String email) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManager.Infrastructure\Repositories\EmployeeRepository.cs:line 74
   at EmployeeManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployeeDto dto, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 41
   at EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee(CreateEmployeeDto dto) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 81
2024-12-20 10:35:14.258 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:35:14.259 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:35:14.259 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:35:14.259 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:35:14.262 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:35:14.262 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 10:35:14.272 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application) in 127626.5368ms
2024-12-20 10:35:14.272 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:35:14.273 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86 - 500 - text/plain;+charset=utf-8 128378.7268ms
2024-12-20 10:35:30.420 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86
2024-12-20 10:35:30.427 +02:00 [DBG] POST requests are not supported
2024-12-20 10:35:30.427 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:35:30.427 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:35:30.427 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:35:30.428 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:35:30.428 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:35:30.428 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:35:30.429 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:35:30.431 +02:00 [DBG] Authorization was successful.
2024-12-20 10:35:30.432 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:35:30.432 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:35:30.433 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:35:30.433 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:35:30.434 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:35:30.434 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:35:30.434 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:35:30.435 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:35:30.442 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:35:30.443 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:35:30.444 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 10:35:30.445 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:35:30.446 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 10:35:30.446 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:35:30.447 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:35:30.447 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:35:30.447 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:36:27.984 +02:00 [INF] Creating new employee for manager 6
2024-12-20 10:37:44.959 +02:00 [ERR] Error creating employee
System.NotImplementedException: The method or operation is not implemented.
   at EmployeeManager.Infrastructure.Repositories.EmployeeRepository.GetByEmailAsync(String email) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManager.Infrastructure\Repositories\EmployeeRepository.cs:line 74
   at EmployeeManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployeeDto dto, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 41
   at EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee(CreateEmployeeDto dto) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 81
2024-12-20 10:37:44.961 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:37:44.963 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:37:44.963 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:37:44.963 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:37:44.964 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:37:44.964 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 10:37:44.981 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application) in 134546.6265ms
2024-12-20 10:37:44.982 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:37:45.005 +02:00 [DBG] Connection ID "18158513703463419943" disconnecting.
2024-12-20 10:37:45.005 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86 - 500 - text/plain;+charset=utf-8 134584.6713ms
2024-12-20 10:37:58.261 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 86
2024-12-20 10:37:58.264 +02:00 [DBG] POST requests are not supported
2024-12-20 10:37:58.267 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 10:37:58.267 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 10:37:58.267 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:37:58.268 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:37:58.268 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:37:58.269 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:37:58.269 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:37:58.270 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:37:58.270 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:37:58.271 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:37:58.271 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:37:58.271 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:37:58.272 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:37:58.272 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:37:58.272 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:37:58.277 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:37:58.277 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:37:58.277 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 10:37:58.278 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:37:58.280 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 10:37:58.281 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:37:58.281 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:37:58.281 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:37:58.282 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:37:58.283 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:37:58.284 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:37:58.284 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:37:58.284 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:37:58.285 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:37:58.285 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:37:58.285 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:37:58.285 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:37:58.286 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:37:58.294 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:37:58.294 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:37:58.294 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 10:37:58.295 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:37:58.296 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:37:59.752 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:37:59.753 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:37:59.754 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 10:37:59.755 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 10:37:59.755 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 10:37:59.788 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:37:59.789 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:37:59.789 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:37:59.789 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:37:59.789 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:37:59.790 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 18), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 10:37:59.791 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 18), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Managers" ("CreatedAt", "Email", "FullName", "Guid", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-12-20 10:37:59.791 +02:00 [DBG] The foreign key property 'Manager.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 10:37:59.802 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:37:59.803 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 12ms reading results.
2024-12-20 10:37:59.804 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:37:59.804 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:37:59.805 +02:00 [DBG] An entity of type 'Manager' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:37:59.808 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 10:37:59.809 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:37:59.809 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:37:59.809 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:37:59.810 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:37:59.810 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:37:59.810 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:37:59.863 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 1590.9172ms
2024-12-20 10:37:59.864 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:37:59.864 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:37:59.864 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:37:59.864 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:37:59.864 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 86 - 200 - application/json;+charset=utf-8 1603.5958ms
2024-12-20 10:38:26.952 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86
2024-12-20 10:38:26.955 +02:00 [DBG] POST requests are not supported
2024-12-20 10:38:26.955 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:38:26.955 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:38:26.955 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:38:26.956 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:38:26.959 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:38:26.960 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:38:26.960 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:38:26.961 +02:00 [DBG] Authorization was successful.
2024-12-20 10:38:26.961 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:38:26.961 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:38:26.961 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:38:26.961 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:38:26.961 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:38:26.962 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:38:26.962 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:38:26.962 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:38:26.963 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:38:26.964 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:38:26.964 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 10:38:26.964 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:38:26.965 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 10:38:26.965 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:38:26.965 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:38:26.965 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:38:26.965 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:38:43.079 +02:00 [INF] Creating new employee for manager 6
2024-12-20 10:40:33.014 +02:00 [DBG] Hosting starting
2024-12-20 10:40:33.311 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 10:40:33.384 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 10:40:33.468 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 10:40:33.509 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 10:40:33.513 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:40:33.517 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 10:40:33.521 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:40:33.527 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 10:40:33.531 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 10:40:33.537 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 10:40:33.538 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 10:40:34.213 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 10:40:35.783 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:40:35.823 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:40:35.842 +02:00 [DBG] Created DbConnection. (14ms).
2024-12-20 10:40:35.852 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:40:35.892 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:40:35.899 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:40:35.907 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 10:40:35.913 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 10:40:35.914 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:40:35.917 +02:00 [DBG] Created DbConnection. (1ms).
2024-12-20 10:40:35.927 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2024-12-20 10:40:35.929 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (16ms).
2024-12-20 10:40:35.930 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:40:35.936 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:40:35.946 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:40:36.008 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:40:36.014 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:40:36.023 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (8ms).
2024-12-20 10:40:36.029 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:40:36.031 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:40:36.035 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (4ms).
2024-12-20 10:40:36.191 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 10:40:36.386 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 10:40:36.387 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 10:40:36.387 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 10:40:36.388 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 10:40:36.388 +02:00 [INF] Hosting environment: Development
2024-12-20 10:40:36.388 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 10:40:36.388 +02:00 [DBG] Hosting started
2024-12-20 10:40:36.491 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 10:40:36.569 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 10:40:36.971 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 10:40:37.364 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 10:40:37.392 +02:00 [DBG] Connection ID "18014398511092596772" disconnecting.
2024-12-20 10:40:37.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 902.4270ms
2024-12-20 10:40:37.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 10:40:37.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 10:40:37.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 35.3250ms
2024-12-20 10:40:37.534 +02:00 [DBG] Connection ID "18230571297501347893" disconnecting.
2024-12-20 10:40:37.754 +02:00 [DBG] Connection ID "18158513703463419947" disconnecting.
2024-12-20 10:40:38.176 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 746.0325ms
2024-12-20 10:40:38.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 10:40:38.579 +02:00 [DBG] Connection ID "18302628887244308506" disconnecting.
2024-12-20 10:40:38.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 393.7414ms
2024-12-20 10:41:10.970 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 85
2024-12-20 10:41:10.984 +02:00 [DBG] POST requests are not supported
2024-12-20 10:41:11.133 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:41:11.147 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:41:11.149 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:41:11.159 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:41:11.161 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:41:11.589 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:41:11.598 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:41:11.673 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:41:11.680 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:41:11.680 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:41:11.681 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:41:11.682 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:41:11.682 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:41:11.687 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:41:11.702 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:41:11.718 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:41:11.725 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:41:11.730 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:41:11.789 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:41:11.790 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:41:11.791 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:41:11.795 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:41:11.817 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:41:15.171 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:41:15.331 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 10:41:16.567 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:41:16.731 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:41:16.731 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:41:16.732 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:41:16.732 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:41:16.736 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-20 10:41:16.741 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:41:16.746 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:41:16.752 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:41:16.785 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:41:16.886 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:41:16.966 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:41:16.969 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 182ms reading results.
2024-12-20 10:41:16.975 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:41:16.978 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 10:41:17.850 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:41:17.853 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:41:17.853 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:41:17.853 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:41:17.856 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:41:17.859 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:41:17.890 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 6202.1951ms
2024-12-20 10:41:17.893 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:41:17.894 +02:00 [DBG] Connection ID "17942340925644603451" disconnecting.
2024-12-20 10:41:17.897 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:41:17.914 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:41:17.915 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 10:41:17.916 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 85 - 200 - application/json;+charset=utf-8 6946.7782ms
2024-12-20 10:41:36.853 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/register application/json 85
2024-12-20 10:41:36.853 +02:00 [DBG] POST requests are not supported
2024-12-20 10:41:36.863 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-12-20 10:41:36.863 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-12-20 10:41:36.864 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:41:36.865 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:41:36.866 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:41:36.868 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:41:36.868 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:41:36.885 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EmployeeManager.Core.DTOs.RegisterManagerDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:41:36.885 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:41:36.885 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:41:36.885 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:41:36.886 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:41:36.886 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:41:36.886 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:41:36.890 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:41:36.891 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:41:36.892 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' using the name '' in request data ...
2024-12-20 10:41:36.893 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:41:36.897 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.RegisterManagerDto'
2024-12-20 10:41:36.897 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:41:36.901 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:41:36.902 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto' ...
2024-12-20 10:41:36.933 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.RegisterManagerDto'.
2024-12-20 10:41:37.082 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:41:37.133 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:41:37.133 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:41:37.133 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:41:37.134 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:41:37.134 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:41:37.135 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:41:37.136 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:41:37.150 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:41:37.162 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:41:37.166 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:41:37.169 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:41:37.174 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 11ms reading results.
2024-12-20 10:41:37.176 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:41:37.177 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:41:37.179 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:41:37.180 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:41:37.180 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:41:37.180 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:41:37.181 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:41:37.181 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-12-20 10:41:37.185 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application) in 298.9873ms
2024-12-20 10:41:37.185 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Register (EmployeeManagement.Application)'
2024-12-20 10:41:37.186 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:41:37.190 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:41:37.191 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (4ms).
2024-12-20 10:41:37.192 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/register application/json 85 - 400 - text/plain;+charset=utf-8 338.8435ms
2024-12-20 10:43:21.181 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 85
2024-12-20 10:43:21.184 +02:00 [DBG] POST requests are not supported
2024-12-20 10:43:21.185 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:43:21.186 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:43:21.187 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:43:21.192 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:43:21.192 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:43:21.196 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:43:21.196 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:43:21.197 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:43:21.197 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:43:21.197 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:43:21.197 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:43:21.197 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:43:21.198 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:43:21.198 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:43:21.204 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:43:21.204 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:43:21.204 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:43:21.204 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:43:21.206 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:43:21.206 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:43:21.206 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:43:21.206 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:43:21.207 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:43:21.209 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:43:21.211 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:43:21.211 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:43:21.212 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:43:21.212 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:43:21.212 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:43:21.212 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:43:21.212 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:43:21.212 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:43:21.213 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:43:21.214 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:43:21.215 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:43:21.216 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 2ms reading results.
2024-12-20 10:43:21.216 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:43:21.216 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:44:05.594 +02:00 [DBG] Hosting starting
2024-12-20 10:44:05.879 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 10:44:05.912 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 10:44:05.954 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 10:44:05.983 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 10:44:05.988 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:44:05.991 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 10:44:05.994 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:44:06.000 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 10:44:06.004 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 10:44:06.006 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 10:44:06.007 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 10:44:06.584 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 10:44:08.672 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:44:08.742 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:44:08.773 +02:00 [DBG] Created DbConnection. (27ms).
2024-12-20 10:44:08.787 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:44:08.815 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:44:08.824 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:44:08.834 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (2ms).
2024-12-20 10:44:08.847 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 10:44:08.848 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:44:08.848 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:44:08.867 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2024-12-20 10:44:08.870 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (26ms).
2024-12-20 10:44:08.870 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:44:08.882 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:44:08.900 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:44:09.003 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:44:09.012 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:44:09.020 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (7ms).
2024-12-20 10:44:09.026 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:44:09.028 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:44:09.028 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:44:09.262 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 10:44:09.563 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 10:44:09.563 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 10:44:09.564 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 10:44:09.564 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 10:44:09.565 +02:00 [INF] Hosting environment: Development
2024-12-20 10:44:09.565 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 10:44:09.566 +02:00 [DBG] Hosting started
2024-12-20 10:44:09.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 10:44:09.773 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 10:44:10.208 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 10:44:10.534 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 10:44:10.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 852.4049ms
2024-12-20 10:44:10.586 +02:00 [DBG] Connection ID "17798225737568747568" disconnecting.
2024-12-20 10:44:10.774 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 10:44:10.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 10:44:10.800 +02:00 [DBG] Connection ID "18158513703463419951" disconnecting.
2024-12-20 10:44:10.800 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 9.5892ms
2024-12-20 10:44:11.047 +02:00 [DBG] Connection ID "18374686485577203794" disconnecting.
2024-12-20 10:44:11.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 304.2520ms
2024-12-20 10:44:11.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 10:44:12.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 510.8739ms
2024-12-20 10:44:12.296 +02:00 [DBG] Connection ID "18086456105130524721" disconnecting.
2024-12-20 10:45:51.426 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62
2024-12-20 10:45:51.432 +02:00 [DBG] POST requests are not supported
2024-12-20 10:45:51.509 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:45:51.527 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:45:51.558 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:45:51.562 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:45:51.562 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:45:51.879 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:45:51.884 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:45:51.928 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:45:51.931 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:45:51.932 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:45:51.934 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:45:51.935 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:45:51.936 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:45:51.941 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:45:51.944 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:45:51.956 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:45:51.960 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:45:51.962 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:45:51.992 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:45:51.993 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:45:51.993 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:45:51.994 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:45:52.021 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:45:52.078 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:45:52.124 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 10:45:52.556 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:45:52.672 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:45:52.672 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:45:52.673 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:45:52.673 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:45:52.680 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-12-20 10:45:52.686 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:45:52.695 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:45:52.702 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:45:52.719 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:45:52.840 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:45:52.891 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:45:52.896 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 173ms reading results.
2024-12-20 10:45:52.901 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:45:52.904 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 10:46:12.463 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:46:12.466 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:46:12.467 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:46:12.467 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:46:12.471 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:46:12.472 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:46:12.582 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 20638.6631ms
2024-12-20 10:46:12.584 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:46:17.162 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:46:17.169 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:46:17.170 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:46:17.170 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62 - 200 - application/json;+charset=utf-8 25750.9869ms
2024-12-20 10:47:06.571 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86
2024-12-20 10:47:06.573 +02:00 [DBG] POST requests are not supported
2024-12-20 10:47:06.577 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:47:06.577 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:47:06.577 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:47:06.588 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:47:06.588 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:47:06.738 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:47:06.744 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:47:06.759 +02:00 [DBG] Authorization was successful.
2024-12-20 10:47:06.761 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:47:06.772 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:47:06.773 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:47:06.775 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:47:06.777 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:47:06.777 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:47:06.778 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:47:06.778 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:47:07.152 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:47:07.154 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:47:07.155 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 10:47:07.156 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:47:07.161 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 10:47:07.161 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:47:07.161 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:47:07.162 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:47:07.170 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:47:21.145 +02:00 [INF] Creating new employee for manager 6
2024-12-20 10:47:21.281 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:47:21.294 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.Email == __email_0)'
2024-12-20 10:47:21.344 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 10:47:21.412 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE e.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:47:21.417 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:47:21.417 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:47:21.417 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:47:21.417 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:47:21.418 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:47:21.418 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:47:21.419 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:47:21.419 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:47:21.422 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:47:21.425 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:47:21.427 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 3ms reading results.
2024-12-20 10:47:21.427 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:47:21.428 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:47:30.629 +02:00 [ERR] Error creating employee
EmployeeManager.Core.Exceptions.BadRequestException: Email already exists
   at EmployeeManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployeeDto dto, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 46
   at EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee(CreateEmployeeDto dto) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 81
2024-12-20 10:47:30.708 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:47:30.709 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:47:30.709 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:47:30.709 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:47:30.710 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:47:30.712 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 10:47:30.724 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application) in 23946.3915ms
2024-12-20 10:47:30.725 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:47:30.729 +02:00 [DBG] Connection ID "17942340925644603455" disconnecting.
2024-12-20 10:47:30.770 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:47:30.771 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:47:30.771 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:47:30.771 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86 - 500 - text/plain;+charset=utf-8 24201.3946ms
2024-12-20 10:47:46.807 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86
2024-12-20 10:47:46.852 +02:00 [DBG] POST requests are not supported
2024-12-20 10:47:46.856 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:47:46.856 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:47:46.857 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:47:46.858 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:47:46.858 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:47:46.863 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:47:46.864 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:47:46.868 +02:00 [DBG] Authorization was successful.
2024-12-20 10:47:46.869 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:47:46.870 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:47:46.870 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:47:46.870 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:47:46.871 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:47:46.871 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:47:46.871 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:47:46.871 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:47:46.874 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:47:46.874 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:47:46.874 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 10:47:46.875 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:47:46.876 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 10:47:46.877 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:47:46.877 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:47:46.877 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:47:46.878 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:47:56.686 +02:00 [INF] Creating new employee for manager 6
2024-12-20 10:48:08.352 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:48:08.379 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:48:08.379 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:48:08.379 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:48:08.381 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-12-20 10:48:08.381 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-20 10:48:08.382 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:48:08.382 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:48:08.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:48:08.383 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:48:08.383 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:48:08.383 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 10:48:08.384 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:48:08.384 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:49:17.949 +02:00 [DBG] Hosting starting
2024-12-20 10:49:18.160 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 10:49:18.193 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 10:49:18.243 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 10:49:18.274 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 10:49:18.278 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:49:18.282 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 10:49:18.286 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 10:49:18.292 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 10:49:18.295 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 10:49:18.299 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 10:49:18.301 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 10:49:18.811 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 10:49:20.423 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:49:20.484 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:49:20.527 +02:00 [DBG] Created DbConnection. (32ms).
2024-12-20 10:49:20.547 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:49:20.576 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:49:20.585 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:49:20.594 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (4ms).
2024-12-20 10:49:20.611 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 10:49:20.612 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:49:20.613 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:49:20.632 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (11ms).
2024-12-20 10:49:20.647 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (38ms).
2024-12-20 10:49:20.648 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:49:20.654 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:49:20.669 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:49:20.741 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 10:49:20.746 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:49:20.754 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (8ms).
2024-12-20 10:49:20.758 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:49:20.760 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:49:20.761 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 10:49:20.975 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 10:49:21.131 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 10:49:21.131 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 10:49:21.132 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 10:49:21.132 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 10:49:21.133 +02:00 [INF] Hosting environment: Development
2024-12-20 10:49:21.133 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 10:49:21.133 +02:00 [DBG] Hosting started
2024-12-20 10:49:21.201 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 10:49:21.251 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 10:49:21.835 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 10:49:22.182 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 10:49:22.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 10:49:22.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 992.4666ms
2024-12-20 10:49:22.316 +02:00 [DBG] Connection ID "18158513703463419958" disconnecting.
2024-12-20 10:49:22.383 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 171.5671ms
2024-12-20 10:49:22.384 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 10:49:22.692 +02:00 [DBG] Connection ID "18158513703463419960" disconnecting.
2024-12-20 10:49:22.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 320.5751ms
2024-12-20 10:49:23.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 10:49:23.855 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 638.1325ms
2024-12-20 10:49:53.631 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62
2024-12-20 10:49:53.639 +02:00 [DBG] POST requests are not supported
2024-12-20 10:49:53.781 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 10:49:53.787 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 10:49:53.789 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:49:53.800 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:49:53.800 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:49:54.120 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 10:49:54.124 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:49:54.196 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 10:49:54.199 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:49:54.200 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:49:54.202 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:49:54.204 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:49:54.205 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:49:54.211 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:49:54.214 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 10:49:54.223 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:49:54.233 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 10:49:54.237 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:49:54.283 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 10:49:54.284 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:49:54.284 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:49:54.285 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 10:49:54.316 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 10:49:54.404 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:49:54.460 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 10:49:54.845 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:49:54.912 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:49:54.912 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:49:54.913 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:49:54.914 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:49:54.920 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-12-20 10:49:54.929 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:49:54.933 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:49:54.939 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:49:54.958 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 10:49:55.032 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:49:55.100 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:49:55.103 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 141ms reading results.
2024-12-20 10:49:55.106 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:49:55.108 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:50:08.368 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:50:08.374 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:50:08.375 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:50:08.375 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:50:08.379 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 10:50:08.380 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 10:50:08.426 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 14213.8387ms
2024-12-20 10:50:08.428 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 10:50:08.430 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:50:08.438 +02:00 [DBG] Connection ID "18230571297501347904" disconnecting.
2024-12-20 10:50:08.440 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:50:08.442 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (3ms).
2024-12-20 10:50:08.444 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62 - 200 - application/json;+charset=utf-8 14813.5494ms
2024-12-20 10:50:45.645 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86
2024-12-20 10:50:45.645 +02:00 [DBG] POST requests are not supported
2024-12-20 10:50:45.656 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:50:45.656 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:50:45.657 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:50:45.658 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:50:45.658 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:50:46.222 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:50:46.226 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:50:46.238 +02:00 [DBG] Authorization was successful.
2024-12-20 10:50:46.239 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:50:46.260 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:50:46.260 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:50:46.261 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:50:46.261 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:50:46.261 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:50:46.262 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:50:46.263 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:50:46.717 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:50:46.720 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:50:46.725 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 10:50:46.726 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:50:46.734 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 10:50:46.735 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:50:46.735 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:50:46.736 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:50:46.750 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:50:58.134 +02:00 [INF] Creating new employee for manager 6
2024-12-20 10:51:07.171 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:51:07.502 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.Email == __email_0)'
2024-12-20 10:51:07.589 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 10:51:07.677 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE e.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:51:07.737 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:51:07.738 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:51:07.738 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:51:07.738 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:51:07.738 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:51:07.739 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:51:07.741 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:51:07.755 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:51:07.765 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:51:07.767 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:51:07.767 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 10:51:07.768 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:51:07.768 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:51:35.582 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .FirstOrDefault(e => e.Id == __id_0)'
2024-12-20 10:51:35.597 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Manager>(
    asyncEnumerable: new SingleQueryingEnumerable<Manager>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
            SELECT TOP(1) m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
            FROM Managers AS m
            WHERE m.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
        EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-12-20 10:51:35.602 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:51:35.602 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:51:35.603 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 10:51:35.603 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:51:35.603 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:51:35.604 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Id" = @__id_0
LIMIT 1
2024-12-20 10:51:35.608 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Id" = @__id_0
LIMIT 1
2024-12-20 10:51:39.457 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:51:39.458 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:51:39.459 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 3850ms reading results.
2024-12-20 10:51:39.459 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:51:39.459 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:54:03.483 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:54:03.624 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:54:03.640 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:54:07.150 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 10:54:07.157 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 10:54:07.230 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 10:54:07.649 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:54:07.650 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:54:07.653 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:54:07.653 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:54:07.653 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:54:07.654 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 18), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("CreatedAt", "Email", "FullName", "Guid", "ManagerId", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-12-20 10:54:07.697 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 18), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("CreatedAt", "Email", "FullName", "Guid", "ManagerId", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-12-20 10:54:07.732 +02:00 [DBG] The foreign key property 'Employee.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 10:54:07.747 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:54:07.747 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 49ms reading results.
2024-12-20 10:54:07.748 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:54:07.748 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:54:07.767 +02:00 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:54:07.769 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 10:54:50.744 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 10:54:50.748 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 10:54:50.749 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 10:54:50.750 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2024-12-20 10:54:52.979 +02:00 [INF] Employee 1 created successfully
2024-12-20 10:55:07.741 +02:00 [ERR] Error creating employee
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Employee -> EmployeeDto
EmployeeManager.Core.Models.Employee -> EmployeeManager.Core.DTOs.EmployeeDto
   at lambda_method153(Closure, Object, EmployeeDto, ResolutionContext)
   at EmployeeManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployeeDto dto, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 71
   at EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee(CreateEmployeeDto dto) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 81
2024-12-20 10:55:07.794 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:55:07.794 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:55:07.794 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:55:07.794 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:55:07.795 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:55:07.795 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 10:55:07.801 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application) in 261538.5346ms
2024-12-20 10:55:07.802 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:55:07.816 +02:00 [DBG] Connection ID "18158513712053354507" disconnecting.
2024-12-20 10:55:07.825 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:55:07.825 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:55:07.826 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:55:07.826 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86 - 500 - text/plain;+charset=utf-8 262182.9197ms
2024-12-20 10:55:19.331 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86
2024-12-20 10:55:19.333 +02:00 [DBG] POST requests are not supported
2024-12-20 10:55:19.338 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:55:19.338 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 10:55:19.338 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:55:19.340 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 10:55:19.340 +02:00 [INF] CORS policy execution successful.
2024-12-20 10:55:19.349 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:55:19.349 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:55:19.352 +02:00 [DBG] Authorization was successful.
2024-12-20 10:55:19.352 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:55:19.353 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:55:19.353 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:55:19.353 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:55:19.353 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:55:19.353 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:55:19.353 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:55:19.353 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:55:19.357 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:55:19.357 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:55:19.357 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 10:55:19.357 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 10:55:19.360 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 10:55:19.360 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:55:19.360 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:55:19.360 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 10:55:19.361 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 10:55:31.709 +02:00 [INF] Creating new employee for manager 6
2024-12-20 10:55:33.936 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:55:33.946 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:55:33.946 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:55:33.946 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:55:33.947 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:55:33.947 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:55:33.947 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:55:33.947 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:55:33.947 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:55:33.948 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 10:55:33.948 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:55:33.973 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:55:33.975 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:55:33.980 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:55:33.980 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 32ms reading results.
2024-12-20 10:55:33.981 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:55:33.981 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:55:49.585 +02:00 [ERR] Error creating employee
EmployeeManager.Core.Exceptions.BadRequestException: Email already exists
   at EmployeeManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployeeDto dto, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 46
   at EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee(CreateEmployeeDto dto) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 81
2024-12-20 10:55:49.586 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:55:49.586 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:55:49.587 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:55:49.587 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:55:49.587 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:55:49.587 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 10:55:49.588 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application) in 30235.0844ms
2024-12-20 10:55:49.589 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 10:55:49.590 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:55:49.589 +02:00 [DBG] Connection ID "18014398511092596776" disconnecting.
2024-12-20 10:55:49.590 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:55:49.591 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:55:49.591 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 86 - 500 - text/plain;+charset=utf-8 30264.9454ms
2024-12-20 10:56:30.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=Avital - -
2024-12-20 10:56:30.778 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 10:56:30.780 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/SearchEmployees'
2024-12-20 10:56:30.780 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/SearchEmployees' is valid for the request path '/api/Employees/SearchEmployees'
2024-12-20 10:56:30.781 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:56:30.787 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:56:30.788 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:56:30.818 +02:00 [DBG] Authorization was successful.
2024-12-20 10:56:30.819 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:56:30.829 +02:00 [INF] Route matched with {action = "SearchEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEmployees(System.String) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:56:30.829 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:56:30.830 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:56:30.830 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:56:30.830 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:56:30.830 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:56:30.830 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:56:30.847 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:56:30.859 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-12-20 10:56:30.862 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-12-20 10:56:30.868 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 10:56:30.868 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 10:56:30.868 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-12-20 10:56:30.874 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-12-20 10:56:30.884 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:56:30.885 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.FullName.Contains(__name_0))'
2024-12-20 10:56:30.887 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 10:56:30.927 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE (@__name_0 == '') || (instr(e.FullName, @__name_0) > 0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 10:56:30.959 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:56:30.961 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:56:30.962 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:56:30.962 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-20 10:56:30.962 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-20 10:56:30.963 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:56:30.963 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:56:30.970 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 10:56:31.009 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 10:56:31.010 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:56:31.011 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:56:31.011 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:56:31.011 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:56:31.011 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 1ms reading results.
2024-12-20 10:56:31.011 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:56:31.011 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:56:31.277 +02:00 [ERR] Error searching employees
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
WhereListIterator`1 -> IEnumerable`1
System.Linq.Enumerable+WhereListIterator`1[[EmployeeManager.Core.Models.Employee, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[EmployeeManager.Core.DTOs.EmployeeDto, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Employee -> EmployeeDto
EmployeeManager.Core.Models.Employee -> EmployeeManager.Core.DTOs.EmployeeDto
   at lambda_method167(Closure, Employee, EmployeeDto, ResolutionContext)
   at lambda_method166(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method166(Closure, Object, IEnumerable`1, ResolutionContext)
   at EmployeeManagement.Application.Services.EmployeeService.SearchEmployees(String name, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 124
   at EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees(String name) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 65
2024-12-20 10:56:31.280 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:56:31.280 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:56:31.280 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:56:31.281 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:56:31.281 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:56:31.282 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 10:56:31.286 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application) in 455.3388ms
2024-12-20 10:56:31.286 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:56:31.286 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:56:31.286 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:56:31.287 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:56:31.287 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=Avital - - - 500 - text/plain;+charset=utf-8 512.2011ms
2024-12-20 10:57:04.817 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=Avital - -
2024-12-20 10:57:04.817 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 10:57:04.817 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/SearchEmployees'
2024-12-20 10:57:04.819 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/SearchEmployees' is valid for the request path '/api/Employees/SearchEmployees'
2024-12-20 10:57:04.819 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:57:04.820 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:57:04.820 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:57:04.821 +02:00 [DBG] Authorization was successful.
2024-12-20 10:57:04.821 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:57:04.821 +02:00 [INF] Route matched with {action = "SearchEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEmployees(System.String) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:57:04.821 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:57:04.821 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:57:04.821 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:57:04.821 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:57:04.821 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:57:04.821 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:57:04.834 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:57:04.834 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-12-20 10:57:04.835 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-12-20 10:57:04.836 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 10:57:04.836 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 10:57:04.836 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-12-20 10:57:04.836 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-12-20 10:57:20.415 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:57:20.428 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:57:20.429 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:57:20.429 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:57:20.429 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:57:20.429 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:57:20.429 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:57:20.429 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:57:20.430 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 10:57:20.430 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 10:57:22.929 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:57:27.763 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:57:27.763 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:57:27.764 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:57:27.764 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 7333ms reading results.
2024-12-20 10:57:27.764 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:57:27.764 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:57:51.982 +02:00 [ERR] Error searching employees
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
WhereListIterator`1 -> IEnumerable`1
System.Linq.Enumerable+WhereListIterator`1[[EmployeeManager.Core.Models.Employee, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[EmployeeManager.Core.DTOs.EmployeeDto, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Employee -> EmployeeDto
EmployeeManager.Core.Models.Employee -> EmployeeManager.Core.DTOs.EmployeeDto
   at lambda_method167(Closure, Employee, EmployeeDto, ResolutionContext)
   at lambda_method166(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method166(Closure, Object, IEnumerable`1, ResolutionContext)
   at EmployeeManagement.Application.Services.EmployeeService.SearchEmployees(String name, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 124
   at EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees(String name) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 65
2024-12-20 10:57:51.991 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 10:57:51.991 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 10:57:51.991 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 10:57:51.991 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 10:57:51.991 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 10:57:51.999 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 10:57:52.009 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application) in 47187.4608ms
2024-12-20 10:57:52.009 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:57:52.010 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 10:57:52.010 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:57:52.010 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 10:57:52.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=Avital - - - 500 - text/plain;+charset=utf-8 47194.0471ms
2024-12-20 10:57:53.862 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=Avital - -
2024-12-20 10:57:53.864 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 10:57:53.867 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/SearchEmployees'
2024-12-20 10:57:53.867 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/SearchEmployees' is valid for the request path '/api/Employees/SearchEmployees'
2024-12-20 10:57:53.867 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:57:53.870 +02:00 [DBG] Successfully validated the token.
2024-12-20 10:57:53.870 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 10:57:53.870 +02:00 [DBG] Authorization was successful.
2024-12-20 10:57:53.870 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 10:57:53.871 +02:00 [INF] Route matched with {action = "SearchEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEmployees(System.String) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 10:57:53.871 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 10:57:53.871 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 10:57:53.871 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 10:57:53.871 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 10:57:53.872 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 10:57:53.874 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:57:53.895 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 10:57:53.896 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-12-20 10:57:53.898 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-12-20 10:57:53.901 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 10:57:53.902 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 10:57:53.903 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-12-20 10:57:53.904 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-12-20 10:58:06.999 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 10:58:07.009 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 10:58:07.009 +02:00 [DBG] Creating DbConnection.
2024-12-20 10:58:07.009 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 10:58:07.009 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:58:07.010 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 10:58:07.010 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 10:58:07.010 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:58:07.010 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 10:58:07.010 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 10:58:10.685 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:58:13.442 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:58:13.442 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 10:58:13.443 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:58:13.443 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 6432ms reading results.
2024-12-20 10:58:13.443 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 10:58:13.443 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:16:40.317 +02:00 [DBG] Hosting starting
2024-12-20 11:16:40.557 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 11:16:40.597 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 11:16:40.663 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 11:16:40.696 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 11:16:40.699 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 11:16:40.703 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 11:16:40.706 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 11:16:40.715 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 11:16:40.719 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 11:16:40.723 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 11:16:40.728 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 11:16:41.236 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 11:16:43.092 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:16:43.185 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:16:43.225 +02:00 [DBG] Created DbConnection. (46ms).
2024-12-20 11:16:43.234 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:16:43.299 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:16:43.322 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:16:43.349 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (11ms).
2024-12-20 11:16:43.366 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 11:16:43.367 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:16:43.369 +02:00 [DBG] Created DbConnection. (1ms).
2024-12-20 11:16:43.386 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (17ms).
2024-12-20 11:16:43.393 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (29ms).
2024-12-20 11:16:43.396 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:16:43.401 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:16:43.421 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 11:16:43.586 +02:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 11:16:43.589 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:16:43.597 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (6ms).
2024-12-20 11:16:43.601 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:16:43.604 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:16:43.605 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:16:43.821 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 11:16:44.323 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 11:16:44.323 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 11:16:44.323 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 11:16:44.325 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 11:16:44.325 +02:00 [INF] Hosting environment: Development
2024-12-20 11:16:44.325 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 11:16:44.326 +02:00 [DBG] Hosting started
2024-12-20 11:16:44.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 11:16:44.842 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 11:16:46.171 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 11:16:48.571 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 11:16:48.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 3980.3338ms
2024-12-20 11:16:52.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 11:16:52.902 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 12.5729ms
2024-12-20 11:16:53.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 11:16:53.246 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 133.3919ms
2024-12-20 11:16:53.246 +02:00 [DBG] Connection ID "18158513712053354513" disconnecting.
2024-12-20 11:16:53.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 11:16:54.100 +02:00 [DBG] Connection ID "18086456105130524729" disconnecting.
2024-12-20 11:16:54.100 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 406.3056ms
2024-12-20 11:17:59.351 +02:00 [DBG] Hosting starting
2024-12-20 11:17:59.578 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 11:17:59.610 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 11:17:59.668 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 11:17:59.700 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 11:17:59.707 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 11:17:59.720 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 11:17:59.725 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 11:17:59.734 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 11:17:59.738 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 11:17:59.742 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 11:17:59.743 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 11:18:00.435 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 11:18:03.485 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:18:03.585 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:18:03.615 +02:00 [DBG] Created DbConnection. (31ms).
2024-12-20 11:18:03.624 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:18:03.652 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:18:03.665 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:18:03.690 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 11:18:03.720 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 11:18:03.722 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:18:03.723 +02:00 [DBG] Created DbConnection. (1ms).
2024-12-20 11:18:03.748 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (28ms).
2024-12-20 11:18:03.755 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (46ms).
2024-12-20 11:18:03.756 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:18:03.767 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:18:03.788 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 11:18:03.855 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 11:18:03.865 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:18:03.872 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (7ms).
2024-12-20 11:18:03.877 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:18:03.878 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:18:03.879 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:18:04.086 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 11:18:04.364 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 11:18:04.364 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 11:18:04.364 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 11:18:04.365 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 11:18:04.365 +02:00 [INF] Hosting environment: Development
2024-12-20 11:18:04.366 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 11:18:04.369 +02:00 [DBG] Hosting started
2024-12-20 11:18:04.509 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 11:18:04.614 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 11:18:05.090 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 11:18:05.642 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 11:18:06.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 11:18:06.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 11:18:06.271 +02:00 [DBG] Connection ID "18302628887244308508" disconnecting.
2024-12-20 11:18:06.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1767.3831ms
2024-12-20 11:18:06.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 352.6785ms
2024-12-20 11:18:07.052 +02:00 [DBG] Connection ID "18158513699168452641" disconnecting.
2024-12-20 11:18:07.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 782.5172ms
2024-12-20 11:18:07.547 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 11:18:08.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 474.9369ms
2024-12-20 11:18:43.035 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62
2024-12-20 11:18:43.051 +02:00 [DBG] POST requests are not supported
2024-12-20 11:18:43.158 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 11:18:43.167 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 11:18:43.190 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 11:18:43.195 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:18:43.195 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:18:43.523 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 11:18:43.530 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 11:18:43.599 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 11:18:43.602 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:18:43.606 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:18:43.607 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:18:43.608 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:18:43.608 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:18:43.615 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 11:18:43.620 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 11:18:43.631 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 11:18:43.637 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 11:18:43.643 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 11:18:43.707 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 11:18:43.708 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 11:18:43.708 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 11:18:43.708 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 11:18:43.732 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 11:18:43.797 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:18:43.857 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 11:18:44.381 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 11:18:44.485 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:18:44.485 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:18:44.485 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:18:44.486 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:18:44.498 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-12-20 11:18:44.506 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:18:44.510 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:18:44.515 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 11:18:44.538 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 11:18:44.608 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:18:44.651 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:18:44.658 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 116ms reading results.
2024-12-20 11:18:44.664 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:18:44.666 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 11:18:52.732 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:18:52.735 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:18:52.736 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:18:52.736 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:18:52.740 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:18:52.741 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 11:18:52.797 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 9182.8942ms
2024-12-20 11:18:52.799 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 11:18:52.808 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:18:52.813 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:18:52.815 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 11:18:52.817 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62 - 200 - application/json;+charset=utf-8 9781.7832ms
2024-12-20 11:19:29.641 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - -
2024-12-20 11:19:29.643 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 11:19:29.672 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 11:19:29.674 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployeesByManagerId' is valid for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 11:19:29.674 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:19:29.823 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:19:29.826 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:19:29.843 +02:00 [DBG] Authorization was successful.
2024-12-20 11:19:29.844 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:19:29.859 +02:00 [INF] Route matched with {action = "GetEmployeesByManagerId", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesByManagerId() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:19:29.860 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:19:29.860 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:19:29.861 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:19:29.861 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:19:29.861 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:19:29.868 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:19:30.416 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:19:42.885 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:19:42.929 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.ManagerId == __managerId_0)'
2024-12-20 11:19:43.016 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 11:19:43.191 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE e.ManagerId == @__managerId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 11:19:43.199 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:19:43.200 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:19:43.200 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:19:43.200 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:19:43.201 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:19:43.202 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:19:43.202 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:19:43.203 +02:00 [DBG] Executing DbCommand [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 11:19:43.235 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 11:19:43.244 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:19:43.318 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:19:43.340 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:19:43.345 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:19:43.363 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 127ms reading results.
2024-12-20 11:19:43.364 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:19:43.365 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:19:51.783 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:19:51.795 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:19:51.795 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:19:51.795 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:19:51.796 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:19:51.796 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeManager.Core.DTOs.EmployeeDto, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-20 11:19:53.664 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application) in 23795.533ms
2024-12-20 11:19:53.664 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:20:00.902 +02:00 [DBG] Connection ID "18158513712053354515" disconnecting.
2024-12-20 11:20:26.570 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployee/1 - -
2024-12-20 11:20:26.571 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 11:20:27.091 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/GetEmployee/1'
2024-12-20 11:20:27.093 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployee/{id}' is valid for the request path '/api/Employees/GetEmployee/1'
2024-12-20 11:20:27.094 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)'
2024-12-20 11:20:27.098 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:20:27.098 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:20:27.099 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:20:27.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - - - 200 - application/json;+charset=utf-8 57980.6916ms
2024-12-20 11:20:27.628 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:20:27.628 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:20:27.633 +02:00 [DBG] Authorization was successful.
2024-12-20 11:20:27.634 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)'
2024-12-20 11:20:27.688 +02:00 [INF] Route matched with {action = "GetEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(Int32) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:20:27.689 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:20:27.689 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:20:27.689 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:20:27.690 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:20:27.690 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:20:27.690 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:20:27.695 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:20:27.696 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-12-20 11:20:27.697 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-12-20 11:20:27.698 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:20:27.698 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:20:27.699 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-12-20 11:20:27.699 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-12-20 11:20:27.712 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:20:27.725 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .FirstOrDefault(e => e.Id == __id_0)'
2024-12-20 11:20:27.727 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 11:20:27.754 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
            SELECT TOP(1) e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
            FROM Employees AS e
            INNER JOIN Managers AS m ON e.ManagerId == m.Id
            WHERE e.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-12-20 11:20:27.759 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:20:27.759 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:20:27.759 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:20:27.760 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:20:27.760 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:20:27.760 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:20:27.762 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:20:27.763 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:20:27.765 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:20:27.765 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:20:27.767 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:20:27.767 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:20:27.769 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:20:27.769 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 4ms reading results.
2024-12-20 11:20:27.770 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:20:27.771 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:20:27.776 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:20:27.777 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:20:27.777 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:20:27.777 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:20:27.777 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:20:27.780 +02:00 [INF] Executing OkObjectResult, writing value of type 'EmployeeManager.Core.DTOs.EmployeeDto'.
2024-12-20 11:20:27.798 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application) in 107.4303ms
2024-12-20 11:20:27.798 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)'
2024-12-20 11:20:27.799 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:20:27.799 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:20:27.800 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:20:27.800 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployee/1 - - - 200 - application/json;+charset=utf-8 1229.7620ms
2024-12-20 11:21:24.934 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44356/api/Employees/UpdateEmployee/1 application/json 84
2024-12-20 11:21:24.940 +02:00 [DBG] PUT requests are not supported
2024-12-20 11:21:24.940 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/UpdateEmployee/1'
2024-12-20 11:21:24.941 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/UpdateEmployee/{id}' is valid for the request path '/api/Employees/UpdateEmployee/1'
2024-12-20 11:21:24.941 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:21:24.942 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:21:24.942 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:21:24.942 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:21:24.942 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:21:24.947 +02:00 [DBG] Authorization was successful.
2024-12-20 11:21:24.947 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:21:24.964 +02:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Int32, EmployeeManager.Core.DTOs.UpdateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:21:24.964 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:21:24.964 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:21:24.964 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:21:24.965 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:21:24.965 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:21:24.965 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:21:24.973 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:21:24.973 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-12-20 11:21:24.974 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-12-20 11:21:24.974 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:21:24.974 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:21:24.974 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-12-20 11:21:24.975 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-12-20 11:21:24.975 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' ...
2024-12-20 11:21:24.975 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' using the name '' in request data ...
2024-12-20 11:21:24.976 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 11:21:24.983 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'
2024-12-20 11:21:24.983 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:21:24.984 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:21:24.984 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' ...
2024-12-20 11:21:24.996 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:21:25.005 +02:00 [INF] Updating employee 1
2024-12-20 11:21:25.006 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:21:25.017 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:21:25.017 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:21:25.017 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:21:25.017 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:21:25.017 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:21:25.017 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:21:25.018 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:21:25.018 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:21:25.018 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:21:25.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:21:25.019 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:21:25.019 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:21:25.019 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:21:25.020 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 1ms reading results.
2024-12-20 11:21:25.020 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:21:25.020 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:21:25.023 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.Email == __email_0)'
2024-12-20 11:21:25.024 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 11:21:25.040 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE e.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 11:21:25.071 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:21:25.071 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:21:25.071 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:21:25.071 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:21:25.071 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:21:25.071 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:21:25.072 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:21:25.072 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:21:25.072 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 11:21:25.120 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:21:25.120 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:21:25.438 +02:00 [ERR] Error updating employee
EmployeeManager.Core.Exceptions.BadRequestException: Email already exists
   at EmployeeManagement.Application.Services.EmployeeService.UpdateEmployee(Int32 id, UpdateEmployeeDto dto, Int32 managerId) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Services\EmployeeService.cs:line 150
   at EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee(Int32 id, UpdateEmployeeDto dto) in C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\Controllers\EmployeesController.cs:line 117
2024-12-20 11:21:25.556 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:21:25.557 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:21:25.557 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:21:25.557 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:21:25.560 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-12-20 11:21:25.561 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-12-20 11:21:25.572 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application) in 606.9743ms
2024-12-20 11:21:25.572 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:21:25.573 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:21:25.573 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:21:25.573 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:21:25.574 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44356/api/Employees/UpdateEmployee/1 application/json 84 - 500 - text/plain;+charset=utf-8 639.7438ms
2024-12-20 11:22:04.881 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=Avital - -
2024-12-20 11:22:04.882 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 11:22:04.882 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/SearchEmployees'
2024-12-20 11:22:04.883 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)' with route pattern 'api/Employees/SearchEmployees' is valid for the request path '/api/Employees/SearchEmployees'
2024-12-20 11:22:04.883 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 11:22:04.884 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:22:04.884 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:22:04.889 +02:00 [DBG] Authorization was successful.
2024-12-20 11:22:04.889 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 11:22:04.904 +02:00 [INF] Route matched with {action = "SearchEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEmployees(System.String) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:22:04.905 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:22:04.906 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:22:04.906 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:22:04.906 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:22:04.906 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:22:04.906 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:22:04.908 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:22:04.928 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-12-20 11:22:04.930 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-12-20 11:22:04.933 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 11:22:04.933 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-12-20 11:22:04.933 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-12-20 11:22:04.936 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-12-20 11:22:11.825 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:22:11.826 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.FullName.Contains(__name_0))'
2024-12-20 11:22:11.829 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 11:22:11.857 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE (@__name_0 == '') || (instr(e.FullName, @__name_0) > 0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 11:22:11.866 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:22:11.889 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:22:11.889 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:22:11.890 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (23ms).
2024-12-20 11:22:11.891 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2024-12-20 11:22:11.891 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:22:11.892 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:22:11.892 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 11:22:11.895 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE @__name_0 = '' OR instr("e"."FullName", @__name_0) > 0
2024-12-20 11:22:11.896 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:22:11.896 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:22:11.896 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:22:11.897 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:22:11.897 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 1ms reading results.
2024-12-20 11:22:11.897 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:22:11.898 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:22:14.680 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:22:14.680 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:22:14.680 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:22:14.681 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:22:14.681 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:22:14.681 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeManager.Core.DTOs.EmployeeDto, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-20 11:22:14.685 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application) in 9778.8735ms
2024-12-20 11:22:14.685 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.SearchEmployees (EmployeeManagement.Application)'
2024-12-20 11:22:14.686 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:22:14.686 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:22:14.686 +02:00 [DBG] Connection ID "18086456109425491975" disconnecting.
2024-12-20 11:22:14.686 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:22:14.686 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/SearchEmployees?name=Avital - - - 200 - application/json;+charset=utf-8 9804.8844ms
2024-12-20 11:22:42.269 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 94
2024-12-20 11:22:42.269 +02:00 [DBG] POST requests are not supported
2024-12-20 11:22:42.269 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 11:22:42.269 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 11:22:42.270 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 11:22:42.270 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:22:42.271 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:22:42.271 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:22:42.271 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:22:42.272 +02:00 [DBG] Authorization was successful.
2024-12-20 11:22:42.274 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 11:22:42.290 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:22:42.291 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:22:42.291 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:22:42.293 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:22:42.293 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:22:42.298 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:22:42.299 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:22:42.300 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:22:42.301 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 11:22:42.302 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 11:22:42.303 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 11:22:42.356 +02:00 [DBG] JSON input formatter threw an exception: 'd' is an invalid start of a value. Path: $.password | LineNumber: 2 | BytePositionInLine: 14.
2024-12-20 11:22:42.357 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 11:22:42.357 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 11:22:42.358 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 11:22:42.360 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 11:22:42.366 +02:00 [DBG] The request has model state errors, returning an error response.
2024-12-20 11:22:42.372 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-20 11:22:42.372 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:22:42.372 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:22:42.373 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-20 11:22:42.373 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-20 11:22:42.374 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-20 11:22:42.406 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application) in 107.7974ms
2024-12-20 11:22:42.407 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 11:22:42.407 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 94 - 400 - application/problem+json;+charset=utf-8 138.4064ms
2024-12-20 11:23:04.136 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 95
2024-12-20 11:23:04.136 +02:00 [DBG] POST requests are not supported
2024-12-20 11:23:04.136 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/CreateEmployee'
2024-12-20 11:23:04.137 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/CreateEmployee' is valid for the request path '/api/Employees/CreateEmployee'
2024-12-20 11:23:04.137 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 11:23:04.137 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:23:04.137 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:23:04.138 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:23:04.138 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:23:04.138 +02:00 [DBG] Authorization was successful.
2024-12-20 11:23:04.138 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 11:23:04.139 +02:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(EmployeeManager.Core.DTOs.CreateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:23:04.139 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:23:04.139 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:23:04.139 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:23:04.139 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:23:04.140 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:23:04.141 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:23:04.143 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:23:04.143 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 11:23:04.143 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' using the name '' in request data ...
2024-12-20 11:23:04.144 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 11:23:04.145 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'
2024-12-20 11:23:04.146 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 11:23:04.146 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 11:23:04.146 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto' ...
2024-12-20 11:23:04.149 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.CreateEmployeeDto'.
2024-12-20 11:23:08.212 +02:00 [INF] Creating new employee for manager 6
2024-12-20 11:23:08.256 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:23:08.258 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:23:08.259 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:23:08.259 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:23:08.259 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:23:08.259 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:23:08.259 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:23:08.260 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:08.260 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:23:08.261 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:23:08.261 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:08.261 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 11:23:08.262 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:08.262 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:23:08.268 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .FirstOrDefault(e => e.Id == __id_0)'
2024-12-20 11:23:08.289 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Manager>(
    asyncEnumerable: new SingleQueryingEnumerable<Manager>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
            SELECT TOP(1) m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
            FROM Managers AS m
            WHERE m.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
        EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-12-20 11:23:08.294 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:23:08.295 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:23:08.295 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:23:08.296 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:23:08.296 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:08.297 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Id" = @__id_0
LIMIT 1
2024-12-20 11:23:08.297 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Id" = @__id_0
LIMIT 1
2024-12-20 11:23:08.312 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:23:08.312 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:08.313 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 1ms reading results.
2024-12-20 11:23:08.313 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:08.313 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:23:08.836 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:23:08.864 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:23:08.872 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:23:08.887 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 11:23:08.900 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 11:23:08.947 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 11:23:09.150 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:23:09.152 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:09.161 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:23:09.161 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:23:09.165 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-20 11:23:09.166 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 23), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("CreatedAt", "Email", "FullName", "Guid", "ManagerId", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-12-20 11:23:09.220 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 23), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("CreatedAt", "Email", "FullName", "Guid", "ManagerId", "PasswordHash")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-12-20 11:23:09.281 +02:00 [DBG] The foreign key property 'Employee.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 11:23:09.338 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:09.338 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 118ms reading results.
2024-12-20 11:23:09.340 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:23:09.340 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:23:09.360 +02:00 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:23:09.362 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 11:23:09.364 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 11:23:09.365 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 11:23:09.365 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 11:23:09.365 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2024-12-20 11:23:09.365 +02:00 [INF] Employee 2 created successfully
2024-12-20 11:23:22.741 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:23:22.741 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:23:22.742 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:23:22.742 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:23:22.742 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:23:22.742 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'EmployeeManager.Core.DTOs.EmployeeDto'.
2024-12-20 11:23:22.827 +02:00 [DBG] Found the endpoints ["EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)"] for address (id=[2],action=[GetEmployee],controller=[Employees])
2024-12-20 11:23:22.847 +02:00 [DBG] Successfully processed template api/Employees/GetEmployee/{id} for EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application) resulting in /api/Employees/GetEmployee/2 and 
2024-12-20 11:23:22.850 +02:00 [DBG] Link generation succeeded for endpoints ["EmployeeManagement.Application.Controllers.EmployeesController.GetEmployee (EmployeeManagement.Application)"] with result /api/Employees/GetEmployee/2
2024-12-20 11:23:22.858 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application) in 18716.8599ms
2024-12-20 11:23:22.859 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.CreateEmployee (EmployeeManagement.Application)'
2024-12-20 11:23:28.338 +02:00 [DBG] Connection ID "17870283331606675502" disconnecting.
2024-12-20 11:23:29.020 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:23:29.021 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:23:29.022 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:23:29.578 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Employees/CreateEmployee application/json 95 - 201 - application/json;+charset=utf-8 25442.1337ms
2024-12-20 11:24:12.450 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44356/api/Employees/UpdateEmployee/1 application/json 84
2024-12-20 11:24:12.451 +02:00 [DBG] PUT requests are not supported
2024-12-20 11:24:12.456 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/UpdateEmployee/1'
2024-12-20 11:24:12.456 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/UpdateEmployee/{id}' is valid for the request path '/api/Employees/UpdateEmployee/1'
2024-12-20 11:24:12.456 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:24:12.456 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:24:12.457 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:24:12.458 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:24:12.459 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:24:12.460 +02:00 [DBG] Authorization was successful.
2024-12-20 11:24:12.460 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:24:12.461 +02:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Int32, EmployeeManager.Core.DTOs.UpdateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:24:12.461 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:24:12.461 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:24:12.461 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:24:12.461 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:24:12.464 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:24:12.465 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:24:12.468 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:24:12.469 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-12-20 11:24:12.470 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-12-20 11:24:12.471 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:24:12.471 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:24:12.472 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-12-20 11:24:12.472 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-12-20 11:24:12.472 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' ...
2024-12-20 11:24:12.473 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' using the name '' in request data ...
2024-12-20 11:24:12.474 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 11:24:12.477 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'
2024-12-20 11:24:12.477 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:24:12.478 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:24:12.478 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' ...
2024-12-20 11:24:12.489 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:24:32.049 +02:00 [INF] Updating employee 1
2024-12-20 11:24:38.054 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:24:38.055 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:24:38.055 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:24:38.055 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:24:38.056 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:24:38.056 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:24:38.056 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:24:38.057 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:24:38.059 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:24:38.061 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:24:38.061 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:24:38.062 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:24:38.062 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:24:38.062 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:24:38.063 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 2ms reading results.
2024-12-20 11:24:38.064 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:24:38.064 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:25:02.719 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:25:02.719 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:25:02.721 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:25:02.733 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:25:02.733 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:25:02.734 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:25:02.734 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:25:02.735 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:25:02.735 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 11:25:02.735 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:25:02.735 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:26:02.113 +02:00 [DBG] Hosting starting
2024-12-20 11:26:02.416 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 11:26:02.598 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 11:26:02.703 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 11:26:02.746 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 11:26:02.753 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 11:26:02.756 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 11:26:02.758 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 11:26:02.775 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 11:26:02.785 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 11:26:02.788 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 11:26:02.789 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 11:26:04.188 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 11:26:07.155 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:26:07.222 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:26:07.253 +02:00 [DBG] Created DbConnection. (23ms).
2024-12-20 11:26:07.264 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:26:07.310 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:26:07.321 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:26:07.334 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 11:26:07.346 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 11:26:07.348 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:26:07.349 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:26:07.363 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (13ms).
2024-12-20 11:26:07.366 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (22ms).
2024-12-20 11:26:07.367 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:26:07.372 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:26:07.390 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 11:26:07.605 +02:00 [INF] Executed DbCommand (212ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 11:26:07.613 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:26:07.619 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (5ms).
2024-12-20 11:26:07.624 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:26:07.626 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:26:07.626 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:26:07.866 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 11:26:08.124 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 11:26:08.124 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 11:26:08.124 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 11:26:08.125 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 11:26:08.126 +02:00 [INF] Hosting environment: Development
2024-12-20 11:26:08.127 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 11:26:08.128 +02:00 [DBG] Hosting started
2024-12-20 11:26:08.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 11:26:08.362 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 11:26:08.884 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 11:26:09.418 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 11:26:09.436 +02:00 [DBG] Connection ID "18086456109425491981" disconnecting.
2024-12-20 11:26:09.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1171.4161ms
2024-12-20 11:26:09.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 11:26:09.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 11:26:09.502 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 11.4809ms
2024-12-20 11:26:09.502 +02:00 [DBG] Connection ID "18158513712053354519" disconnecting.
2024-12-20 11:26:09.756 +02:00 [DBG] Connection ID "18086456109425491983" disconnecting.
2024-12-20 11:26:09.762 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 265.5035ms
2024-12-20 11:26:09.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 11:26:10.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 692.6061ms
2024-12-20 11:26:44.497 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62
2024-12-20 11:26:44.508 +02:00 [DBG] POST requests are not supported
2024-12-20 11:26:44.605 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-12-20 11:26:44.609 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-12-20 11:26:44.611 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 11:26:44.615 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:26:44.616 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:26:44.887 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-20 11:26:44.893 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 11:26:44.957 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EmployeeManager.Core.DTOs.LoginDto) on controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application).
2024-12-20 11:26:44.959 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:26:44.960 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:26:44.962 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:26:44.962 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:26:44.962 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:26:44.966 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 11:26:44.973 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.AuthController (EmployeeManagement.Application)
2024-12-20 11:26:44.980 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 11:26:44.988 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' using the name '' in request data ...
2024-12-20 11:26:44.991 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 11:26:45.027 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.LoginDto'
2024-12-20 11:26:45.028 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 11:26:45.028 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 11:26:45.028 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto' ...
2024-12-20 11:26:45.043 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.LoginDto'.
2024-12-20 11:26:45.095 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:26:45.162 +02:00 [DBG] Compiling query expression: 
'DbSet<Manager>()
    .Where(e => e.Email.Equals(__email_0))'
2024-12-20 11:26:45.599 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Manager>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Manager.CreatedAt (DateTime) Required, 1], [Property: Manager.Email (string) Required MaxLength(100), 2], [Property: Manager.FullName (string) Required MaxLength(100), 3], [Property: Manager.Guid (Guid) Required, 4], [Property: Manager.PasswordHash (string), 5] }
        SELECT m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Managers AS m
        WHERE m.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Manager>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 11:26:45.709 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:26:45.710 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:26:45.710 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:26:45.710 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:26:45.715 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-12-20 11:26:45.724 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:26:45.727 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:26:45.732 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 11:26:45.747 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Managers" AS "m"
WHERE "m"."Email" = @__email_0
2024-12-20 11:26:45.830 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:26:45.888 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:26:45.891 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 141ms reading results.
2024-12-20 11:26:45.897 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:26:45.899 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 11:26:54.357 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:26:54.360 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:26:54.361 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:26:54.361 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:26:54.368 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:26:54.369 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-20 11:26:54.405 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application) in 9432.1258ms
2024-12-20 11:26:54.406 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.AuthController.Login (EmployeeManagement.Application)'
2024-12-20 11:26:54.415 +02:00 [DBG] Connection ID "18374686485577203800" disconnecting.
2024-12-20 11:26:54.415 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:26:54.428 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:26:54.429 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 11:26:54.430 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44356/api/Auth/login application/json 62 - 200 - application/json;+charset=utf-8 9932.6835ms
2024-12-20 11:27:55.367 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44356/api/Employees/UpdateEmployee/1 application/json 84
2024-12-20 11:27:55.369 +02:00 [DBG] PUT requests are not supported
2024-12-20 11:27:55.377 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/UpdateEmployee/1'
2024-12-20 11:27:55.378 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/UpdateEmployee/{id}' is valid for the request path '/api/Employees/UpdateEmployee/1'
2024-12-20 11:27:55.378 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:27:55.379 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:27:55.379 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:27:55.486 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:27:55.492 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:27:55.509 +02:00 [DBG] Authorization was successful.
2024-12-20 11:27:55.510 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:27:55.530 +02:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Int32, EmployeeManager.Core.DTOs.UpdateEmployeeDto) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:27:55.531 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:27:55.531 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:27:55.532 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:27:55.532 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:27:55.533 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:27:55.534 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:27:56.020 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:27:56.021 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-12-20 11:27:56.025 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-12-20 11:27:56.029 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:27:56.029 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:27:56.029 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-12-20 11:27:56.030 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-12-20 11:27:56.030 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' ...
2024-12-20 11:27:56.031 +02:00 [DBG] Attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' using the name '' in request data ...
2024-12-20 11:27:56.032 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-20 11:27:56.036 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'
2024-12-20 11:27:56.038 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:27:56.038 +02:00 [DBG] Done attempting to bind parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:27:56.040 +02:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto' ...
2024-12-20 11:27:56.045 +02:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'EmployeeManager.Core.DTOs.UpdateEmployeeDto'.
2024-12-20 11:28:06.978 +02:00 [INF] Updating employee 1
2024-12-20 11:28:10.959 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:28:10.970 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .FirstOrDefault(e => e.Id == __id_0)'
2024-12-20 11:28:11.000 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 11:28:11.063 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
            SELECT TOP(1) e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
            FROM Employees AS e
            INNER JOIN Managers AS m ON e.ManagerId == m.Id
            WHERE e.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-12-20 11:28:11.098 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:28:11.099 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:28:11.099 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:28:11.099 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:28:11.100 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:28:11.100 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:28:11.100 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:11.101 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:28:11.111 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:28:11.135 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:28:11.176 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:28:11.183 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:28:11.185 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:11.185 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 73ms reading results.
2024-12-20 11:28:11.189 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:11.189 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (3ms).
2024-12-20 11:28:20.845 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.Email == __email_0)'
2024-12-20 11:28:20.847 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 11:28:20.860 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE e.Email == @__email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 11:28:20.861 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:28:20.861 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:28:20.862 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-20 11:28:20.864 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:28:20.865 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:20.865 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:28:20.866 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Email" = @__email_0
2024-12-20 11:28:20.866 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:20.866 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 0ms reading results.
2024-12-20 11:28:20.866 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:20.867 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:28:47.491 +02:00 [DBG] The unchanged property 'Employee.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 11:28:47.515 +02:00 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:28:47.520 +02:00 [DBG] The unchanged property 'Employee.PasswordHash' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-20 11:28:47.533 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 11:28:47.539 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 11:28:47.549 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 11:28:47.668 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:28:47.671 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:47.676 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:28:47.676 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:28:47.677 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:28:47.677 +02:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 16), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Employees" SET "CreatedAt" = @p0, "Email" = @p1, "FullName" = @p2, "Guid" = @p3, "ManagerId" = @p4, "PasswordHash" = @p5
WHERE "Id" = @p6
RETURNING 1;
2024-12-20 11:28:47.688 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 16), @p2='?' (Size = 6), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (Size = 60)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Employees" SET "CreatedAt" = @p0, "Email" = @p1, "FullName" = @p2, "Guid" = @p3, "ManagerId" = @p4, "PasswordHash" = @p5
WHERE "Id" = @p6
RETURNING 1;
2024-12-20 11:28:47.701 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:47.702 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 13ms reading results.
2024-12-20 11:28:47.703 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:28:47.703 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:28:47.708 +02:00 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:28:47.732 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 11:28:48.479 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 11:28:48.480 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 11:28:48.480 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 11:28:48.481 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2024-12-20 11:28:50.278 +02:00 [INF] Employee 1 updated successfully
2024-12-20 11:28:56.882 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-12-20 11:28:56.882 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application) in 61347.7898ms
2024-12-20 11:28:56.883 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.UpdateEmployee (EmployeeManagement.Application)'
2024-12-20 11:29:05.886 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:29:05.886 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:29:05.886 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:29:05.887 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44356/api/Employees/UpdateEmployee/1 application/json 84 - 204 - - 70521.3712ms
2024-12-20 11:29:32.247 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - -
2024-12-20 11:29:32.251 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 11:29:32.256 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 11:29:32.256 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployeesByManagerId' is valid for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 11:29:32.257 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:29:32.265 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:29:32.265 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:29:32.268 +02:00 [DBG] Authorization was successful.
2024-12-20 11:29:32.269 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:29:32.276 +02:00 [INF] Route matched with {action = "GetEmployeesByManagerId", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesByManagerId() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:29:32.277 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:29:32.278 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:29:32.278 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:29:32.278 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:29:32.278 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:29:32.279 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:29:32.296 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:29:32.301 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:29:32.303 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.Manager)
    .Where(e => e.ManagerId == __managerId_0)'
2024-12-20 11:29:32.308 +02:00 [DBG] Including navigation: 'Employee.Manager'.
2024-12-20 11:29:32.328 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.Email (string) Required MaxLength(100), 2], [Property: Employee.FullName (string) Required MaxLength(100), 3], [Property: Employee.Guid (Guid) Required, 4], [Property: Employee.ManagerId (int) Required FK Index, 5], [Property: Employee.PasswordHash (string) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Manager.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Manager.CreatedAt (DateTime) Required, 8], [Property: Manager.Email (string) Required MaxLength(100), 9], [Property: Manager.FullName (string) Required MaxLength(100), 10], [Property: Manager.Guid (Guid) Required, 11], [Property: Manager.PasswordHash (string), 12] }
        SELECT e.Id, e.CreatedAt, e.Email, e.FullName, e.Guid, e.ManagerId, e.PasswordHash, m.Id, m.CreatedAt, m.Email, m.FullName, m.Guid, m.PasswordHash
        FROM Employees AS e
        INNER JOIN Managers AS m ON e.ManagerId == m.Id
        WHERE e.ManagerId == @__managerId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    EmployeeManager.Infrastructure.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-12-20 11:29:32.329 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:29:32.329 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:29:32.329 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:29:32.329 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:29:32.330 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:29:32.330 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:29:32.330 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:32.330 +02:00 [DBG] Executing DbCommand [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 11:29:32.333 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 11:29:32.333 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:32.334 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:32.335 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:32.336 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:32.337 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:32.337 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 3ms reading results.
2024-12-20 11:29:32.337 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:32.337 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:29:32.421 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:29:32.423 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:29:32.424 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:29:32.424 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:29:32.424 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:29:32.424 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeManager.Core.DTOs.EmployeeDto, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-20 11:29:32.454 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application) in 175.6064ms
2024-12-20 11:29:32.456 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:29:32.457 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:29:32.457 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:29:32.457 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:29:32.458 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - - - 200 - application/json;+charset=utf-8 213.3311ms
2024-12-20 11:29:53.882 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:44356/api/Employees/DeleteEmployee/2 - -
2024-12-20 11:29:53.890 +02:00 [DBG] DELETE requests are not supported
2024-12-20 11:29:53.890 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/DeleteEmployee/2'
2024-12-20 11:29:53.890 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.DeleteEmployee (EmployeeManagement.Application)' with route pattern 'api/Employees/DeleteEmployee/{id}' is valid for the request path '/api/Employees/DeleteEmployee/2'
2024-12-20 11:29:53.890 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.DeleteEmployee (EmployeeManagement.Application)'
2024-12-20 11:29:53.890 +02:00 [DBG] The request has an origin header: 'https://localhost:44356'.
2024-12-20 11:29:53.891 +02:00 [INF] CORS policy execution successful.
2024-12-20 11:29:53.891 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:29:53.891 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:29:53.904 +02:00 [DBG] Authorization was successful.
2024-12-20 11:29:53.905 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.DeleteEmployee (EmployeeManagement.Application)'
2024-12-20 11:29:53.913 +02:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:29:53.913 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:29:53.914 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:29:53.914 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:29:53.914 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:29:53.914 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:29:53.914 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:29:53.923 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:29:53.923 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-12-20 11:29:53.924 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-12-20 11:29:53.924 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:29:53.924 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-12-20 11:29:53.924 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-12-20 11:29:53.925 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-12-20 11:29:53.928 +02:00 [INF] Deleting employee 2
2024-12-20 11:29:53.929 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:29:53.933 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:29:53.934 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:29:53.935 +02:00 [DBG] Created DbConnection. (1ms).
2024-12-20 11:29:53.938 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-12-20 11:29:53.938 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-20 11:29:53.938 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:29:53.938 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:53.938 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:29:53.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."Id" = @__id_0
LIMIT 1
2024-12-20 11:29:53.939 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:53.940 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:53.940 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:53.940 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:53.941 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 1ms reading results.
2024-12-20 11:29:53.943 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:53.943 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:29:53.946 +02:00 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:53.948 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 11:29:53.949 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 11:29:53.949 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 11:29:53.964 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:29:53.964 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:53.965 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:29:53.965 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:29:53.965 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:29:53.965 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Employees"
WHERE "Id" = @p0
RETURNING 1;
2024-12-20 11:29:53.968 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Employees"
WHERE "Id" = @p0
RETURNING 1;
2024-12-20 11:29:53.971 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:53.971 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 3ms reading results.
2024-12-20 11:29:53.971 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:29:53.972 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:29:53.980 +02:00 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:29:53.980 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-12-20 11:29:53.981 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-12-20 11:29:53.981 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-12-20 11:29:53.981 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-12-20 11:29:53.981 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2024-12-20 11:29:53.981 +02:00 [INF] Employee 2 deleted successfully
2024-12-20 11:29:53.982 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-12-20 11:29:53.982 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.DeleteEmployee (EmployeeManagement.Application) in 67.8488ms
2024-12-20 11:29:53.982 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.DeleteEmployee (EmployeeManagement.Application)'
2024-12-20 11:29:53.983 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:29:53.983 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:29:53.983 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:29:53.994 +02:00 [DBG] Connection ID "18374686485577203804" disconnecting.
2024-12-20 11:29:54.060 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:44356/api/Employees/DeleteEmployee/2 - - - 204 - - 179.3546ms
2024-12-20 11:30:04.375 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - -
2024-12-20 11:30:04.375 +02:00 [DBG] The request path  does not match the path filter
2024-12-20 11:30:04.375 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 11:30:04.375 +02:00 [DBG] Endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)' with route pattern 'api/Employees/GetEmployeesByManagerId' is valid for the request path '/api/Employees/GetEmployeesByManagerId'
2024-12-20 11:30:04.376 +02:00 [DBG] Request matched endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:30:04.377 +02:00 [DBG] Successfully validated the token.
2024-12-20 11:30:04.377 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-20 11:30:04.377 +02:00 [DBG] Authorization was successful.
2024-12-20 11:30:04.378 +02:00 [INF] Executing endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:30:04.378 +02:00 [INF] Route matched with {action = "GetEmployeesByManagerId", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesByManagerId() on controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application).
2024-12-20 11:30:04.378 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-20 11:30:04.378 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-12-20 11:30:04.378 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-20 11:30:04.379 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-12-20 11:30:04.379 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-20 11:30:04.379 +02:00 [DBG] Executing controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:30:04.389 +02:00 [DBG] Executed controller factory for controller EmployeeManagement.Application.Controllers.EmployeesController (EmployeeManagement.Application)
2024-12-20 11:30:04.392 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 11:30:04.393 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-20 11:30:04.393 +02:00 [DBG] Creating DbConnection.
2024-12-20 11:30:04.393 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 11:30:04.394 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:30:04.394 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-12-20 11:30:04.394 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:30:04.395 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:30:04.395 +02:00 [DBG] Executing DbCommand [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 11:30:04.400 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__managerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."CreatedAt", "e"."Email", "e"."FullName", "e"."Guid", "e"."ManagerId", "e"."PasswordHash", "m"."Id", "m"."CreatedAt", "m"."Email", "m"."FullName", "m"."Guid", "m"."PasswordHash"
FROM "Employees" AS "e"
INNER JOIN "Managers" AS "m" ON "e"."ManagerId" = "m"."Id"
WHERE "e"."ManagerId" = @__managerId_0
2024-12-20 11:30:04.402 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:30:04.403 +02:00 [DBG] The navigation 'Employee.Manager' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:30:04.403 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Manager' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-20 11:30:04.403 +02:00 [DBG] Closing data reader to 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:30:04.404 +02:00 [DBG] A data reader for 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db' is being disposed after spending 2ms reading results.
2024-12-20 11:30:04.404 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 11:30:04.404 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:30:04.405 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-20 11:30:04.405 +02:00 [DBG] No information found on request to perform content negotiation.
2024-12-20 11:30:04.405 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-20 11:30:04.405 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-20 11:30:04.405 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-20 11:30:04.406 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EmployeeManager.Core.DTOs.EmployeeDto, EmployeeManager.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-20 11:30:04.407 +02:00 [INF] Executed action EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application) in 27.7958ms
2024-12-20 11:30:04.407 +02:00 [INF] Executed endpoint 'EmployeeManagement.Application.Controllers.EmployeesController.GetEmployeesByManagerId (EmployeeManagement.Application)'
2024-12-20 11:30:04.408 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 11:30:04.409 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 11:30:04.409 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 11:30:04.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/api/Employees/GetEmployeesByManagerId - - - 200 - application/json;+charset=utf-8 34.2423ms
2024-12-20 13:12:04.297 +02:00 [DBG] Hosting starting
2024-12-20 13:12:04.611 +02:00 [INF] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-20 13:12:04.659 +02:00 [DBG] Reading data from file 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys\key-f8d35c75-3968-4c05-9f6f-e968a9ab0575.xml'.
2024-12-20 13:12:04.739 +02:00 [DBG] Found key {f8d35c75-3968-4c05-9f6f-e968a9ab0575}.
2024-12-20 13:12:04.762 +02:00 [DBG] Considering key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} with expiration date 2025-03-19 21:34:20Z as default key.
2024-12-20 13:12:04.769 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 13:12:04.775 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-20 13:12:04.779 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-20 13:12:04.786 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-20 13:12:04.791 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-20 13:12:04.794 +02:00 [DBG] Using key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} as the default key.
2024-12-20 13:12:04.795 +02:00 [DBG] Key ring with default key {f8d35c75-3968-4c05-9f6f-e968a9ab0575} was loaded during application startup.
2024-12-20 13:12:05.328 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-20 13:12:07.290 +02:00 [DBG] Entity Framework Core 7.0.20 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.20' with options: None
2024-12-20 13:12:07.331 +02:00 [DBG] Creating DbConnection.
2024-12-20 13:12:07.349 +02:00 [DBG] Created DbConnection. (16ms).
2024-12-20 13:12:07.356 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 13:12:07.402 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 13:12:07.409 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 13:12:07.417 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (1ms).
2024-12-20 13:12:07.425 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-20 13:12:07.427 +02:00 [DBG] Creating DbConnection.
2024-12-20 13:12:07.428 +02:00 [DBG] Created DbConnection. (0ms).
2024-12-20 13:12:07.444 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (15ms).
2024-12-20 13:12:07.446 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (23ms).
2024-12-20 13:12:07.447 +02:00 [DBG] Opening connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 13:12:07.454 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 13:12:07.466 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 13:12:07.538 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-20 13:12:07.543 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement\EmployeeManagement.db'.
2024-12-20 13:12:07.549 +02:00 [DBG] Closed connection to database 'main' on server 'EmployeeManagement.db' (5ms).
2024-12-20 13:12:07.555 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-12-20 13:12:07.557 +02:00 [DBG] Disposing connection to database 'main' on server 'EmployeeManagement.db'.
2024-12-20 13:12:07.558 +02:00 [DBG] Disposed connection to database 'main' on server 'EmployeeManagement.db' (0ms).
2024-12-20 13:12:07.772 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-20 13:12:08.002 +02:00 [DBG] Loaded hosting startup assembly EmployeeManagement.Application
2024-12-20 13:12:08.002 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-20 13:12:08.002 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-20 13:12:08.010 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-20 13:12:08.011 +02:00 [INF] Hosting environment: Development
2024-12-20 13:12:08.011 +02:00 [INF] Content root path: C:\Users\USER\Desktop\אסתי עבודה\ש.ל.ה - כללית\EmployeeManagement\EmployeeManagement
2024-12-20 13:12:08.011 +02:00 [DBG] Hosting started
2024-12-20 13:12:08.175 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/index.html - -
2024-12-20 13:12:08.276 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-20 13:12:08.760 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-20 13:12:10.074 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-20 13:12:10.093 +02:00 [DBG] Connection ID "18230571293206380602" disconnecting.
2024-12-20 13:12:10.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/index.html - - - 200 - text/html;charset=utf-8 1921.0180ms
2024-12-20 13:12:10.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_vs/browserLink - -
2024-12-20 13:12:10.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - -
2024-12-20 13:12:10.620 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_framework/aspnetcore-browser-refresh.js - - - 200 12030 application/javascript;+charset=utf-8 24.5966ms
2024-12-20 13:12:11.101 +02:00 [DBG] Connection ID "18158513712053354523" disconnecting.
2024-12-20 13:12:11.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 515.6629ms
2024-12-20 13:12:11.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - -
2024-12-20 13:12:11.907 +02:00 [DBG] Connection ID "18086456109425491989" disconnecting.
2024-12-20 13:12:11.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44356/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 689.4040ms
